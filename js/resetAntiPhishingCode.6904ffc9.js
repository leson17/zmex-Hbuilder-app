(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["resetAntiPhishingCode"],{1407:function(t,e,i){},"71c2":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"head"},[i("div",{staticClass:"back",on:{click:function(e){return e.stopPropagation(),t.goBack(e)}}},[i("span",{staticClass:"left-arrow"})]),i("span",{staticClass:"title"},[t._v(t._s(t.headerTitle))]),"paymentMethod"===t.currentRoute?i("span",{staticClass:"add-payment-method",on:{click:t.addPaymentMethod}},[t._v(t._s(t.$t("AddPaymentMethod")))]):t._e(),"PnLHistory"===t.currentRoute?i("span",{staticClass:"pnl-icon",on:{click:function(e){return t.$emit("show")}}},[i("van-icon",{attrs:{name:"bars"}})],1):t._e()])},s=[],o={props:{headerTitle:{type:String,required:!0},backUrl:{type:String}},data:function(){return{currentRoute:""}},methods:{addPaymentMethod:function(){this.$emit("addMethod")},goBack:function(){localStorage.getItem("fromPath");this.backUrl?this.$router.push(this.backUrl):this.$router.go("-1")}},created:function(){this.currentRoute=this.$router.currentRoute.name}},c=o,a=(i("c529"),i("4023")),r=Object(a["a"])(c,n,s,!1,null,"402bacfc",null);e["a"]=r.exports},"932b":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"rest-password"},[i("header-name",{attrs:{headerTitle:t.headerTitle}}),i("div",{staticClass:"form"},[i("div",{staticClass:"lable account"},[t._v(t._s(t.$t("NewAntiPhishingCode")))]),i("div",{staticClass:"account-input"},[i("cube-input",{staticClass:"account-input-text",attrs:{placeholder:"$t('InputAntiFishingCode')"},model:{value:t.antiPhishingCode,callback:function(e){t.antiPhishingCode=e},expression:"antiPhishingCode"}}),i("cube-validator",{ref:"antiPhishingCode",attrs:{model:t.antiPhishingCode,rules:t.antiPhishingCodeRules},model:{value:t.result[0],callback:function(e){t.$set(t.result,0,e)},expression:"result[0]"}})],1),i("div",{staticClass:"lable account"},[t._v(t._s(t.$t("ConfirmNewCode")))]),i("div",{staticClass:"account-input"},[i("cube-input",{staticClass:"account-input-text",attrs:{placeholder:t.$t("InputAntiFishingCode")},model:{value:t.confirmAntiPhishingCode,callback:function(e){t.confirmAntiPhishingCode=e},expression:"confirmAntiPhishingCode"}}),i("cube-validator",{ref:"confirmAntiPhishingCode",attrs:{model:t.confirmAntiPhishingCode,rules:t.confirmAntiPhishingCodeRules},model:{value:t.result[0],callback:function(e){t.$set(t.result,0,e)},expression:"result[0]"}})],1),i("div",{staticClass:"lable"},[t._v(t._s(t.$t("Code")))]),i("div",{staticClass:"code"},[i("cube-input",{staticClass:"code-input",attrs:{placeholder:t.$t("YourCode")},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),i("cube-validator",{ref:"code",attrs:{model:t.code,rules:t.codeRules},model:{value:t.result[1],callback:function(e){t.$set(t.result,1,e)},expression:"result[1]"}}),i("cube-button",{staticClass:"get-code",class:{"can-click":t.canClick},on:{click:t.getCode}},[t._v(t._s(t.codeTxt))])],1)]),i("div",{staticClass:"btn",class:{"btn-submit":t.canSubmit},on:{click:t.submit}},[t._v(t._s(t.$t("Link")))])],1)},s=[],o=i("ae8c"),c=i("71c2");function a(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function r(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach((function(e){l(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var u={components:{headerName:c["a"]},data:function(){return{result:[void 0,void 0,void 0],antiPhishingCode:"",confirmAntiPhishingCode:"",code:"",totalTime:60,businessType:"",codeTxt:this.$t("GetCode"),canClick:!0,canSubmit:!1,antiPhishingCodeRules:{required:!0},confirmAntiPhishingCodeRules:{required:!0},codeRules:{required:!0},accountType:this.$t("Phone"),headerTitle:this.$t("ChangeCode"),placeholder:"",userInfo:JSON.parse(window.localStorage.getItem("userInformation"))}},methods:r(r({},Object(o["b"])("mine",["bindEmailOrPhone","getVerifyCodeAfterAuth"])),{},{submit:function(){var t=this,e=this.$refs.antiPhishingCode.validate(),i=this.$refs.antiPhishingCode.validate(),n=this.$refs.code.validate();Promise.all([e,i,n]).then((function(e){var i={email:t.userInfo.username,phoneBusinessType:"bindPhonePhone",phoneCode:t.code},n=t;t.bindEmailOrPhone(i).then((function(t){0==t.code?n.$message.success(t.msg,3,n.closeUserCenterModal):(n.errorText=t.msg,n.errorTextFlag=!0,window.setTimeout((function(){n.errorTextFlag=!1}),3e3))}))}))},getCode:function(){var t=this;this.canClick&&this.getVerifyCodeAfterAuth({businessType:this.businessType,receiver:this.userInfo.phone?this.userInfo.phone:this.userInfo.email}).then((function(e){0==e.code&&(console.log("发送成功!"),t.countDown())}))},countDown:function(){var t=this;this.canClick&&(this.canClick=!1),this.codeTxt="".concat(this.totalTime,"s"),window.setTimeout((function(){t.totalTime--,t.totalTime>0?t.countDown():0==t.totalTime&&(t.codeTxt=t.$t("GetCode"),t.canClick=!0,t.totalTime=60)}),1e3)},checkFullFillIn:function(){this.antiPhishingCode&&this.confirmAntiPhishingCode&&this.code?this.canSubmit=!0:this.canSubmit=!1}}),computed:{},watch:{antiPhishingCode:function(t){this.checkFullFillIn()},confirmAntiPhishingCode:function(t){this.checkFullFillIn()},code:function(t){this.checkFullFillIn()}},created:function(){this.userInfo.phone?this.businessType="fishPhone":this.businessType="fishEmail"}},d=u,h=(i("d722"),i("9a05"),i("4023")),f=Object(h["a"])(d,n,s,!1,null,"2ab441a4",null);e["default"]=f.exports},"9a05":function(t,e,i){"use strict";var n=i("bff6"),s=i.n(n);s.a},bff6:function(t,e,i){},c529:function(t,e,i){"use strict";var n=i("1407"),s=i.n(n);s.a},d722:function(t,e,i){"use strict";var n=i("d72d"),s=i.n(n);s.a},d72d:function(t,e,i){}}]);