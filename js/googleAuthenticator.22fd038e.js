(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["googleAuthenticator"],{1407:function(t,e,o){},"71c2":function(t,e,o){"use strict";var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"head"},[o("div",{staticClass:"back",on:{click:function(e){return e.stopPropagation(),t.goBack(e)}}},[o("span",{staticClass:"left-arrow"})]),o("span",{staticClass:"title"},[t._v(t._s(t.headerTitle))]),"paymentMethod"===t.currentRoute?o("span",{staticClass:"add-payment-method",on:{click:t.addPaymentMethod}},[t._v(t._s(t.$t("AddPaymentMethod")))]):t._e(),"PnLHistory"===t.currentRoute?o("span",{staticClass:"pnl-icon",on:{click:function(e){return t.$emit("show")}}},[o("van-icon",{attrs:{name:"bars"}})],1):t._e()])},c=[],n={props:{headerTitle:{type:String,required:!0},backUrl:{type:String}},data:function(){return{currentRoute:""}},methods:{addPaymentMethod:function(){this.$emit("addMethod")},goBack:function(){localStorage.getItem("fromPath");this.backUrl?this.$router.push(this.backUrl):this.$router.go("-1")}},created:function(){this.currentRoute=this.$router.currentRoute.name}},i=n,a=(o("c529"),o("4023")),l=Object(a["a"])(i,s,c,!1,null,"402bacfc",null);e["a"]=l.exports},"9a3c":function(t,e,o){"use strict";var s=o("eef7"),c=o.n(s);c.a},c529:function(t,e,o){"use strict";var s=o("1407"),c=o.n(s);c.a},c90c:function(t,e,o){},cbab:function(t,e,o){"use strict";var s=o("c90c"),c=o.n(s);c.a},cd1e:function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"google-authenticator"},[o("header-name",{attrs:{headerTitle:t.$t("GoogleAuthenticatorApp")}}),o("div",{staticClass:"progress-bar flex-row"},[o("div",{staticClass:"circal l status"}),o("div",{staticClass:"line",class:{status:1===t.steps||2===t.steps}}),o("div",{staticClass:"circal m",class:{status:1===t.steps||2===t.steps}}),o("div",{staticClass:"line",class:{status:2===t.steps}}),o("div",{staticClass:"circal r",class:{status:2===t.steps}})]),o("div",{staticClass:"progress-title flex-row"},[o("div",{staticClass:"front"},[t._v(t._s(t.$t("Download")))]),o("div",{staticClass:"mid"},[t._v(t._s(t.$t("ScanQRCode")))]),o("div",{staticClass:"back"},[t._v(t._s(t.$t("CompleteBind")))])]),0===t.steps?o("div",{staticClass:"content"},[o("div",{staticClass:"app-store",on:{click:t.appStore}}),o("div",{staticClass:"google-play",on:{click:t.Android}}),o("div",{staticClass:"notice"},[t._v(t._s(t.$t("DownloadeAndInstall")))])]):t._e(),1===t.steps?o("div",{staticClass:"content"},[o("div",{staticClass:"qr-code"},[o("QRCode",{attrs:{eleId:"'google-code'",qrCode:t.qrcode}})],1),o("div",{staticClass:"notice-s"},[t._v(t._s(t.$t("GoogleScanCode")))]),o("div",{staticClass:"code flex-row"},[o("div",{staticClass:"code-text"},[t._v(t._s(t.code))]),o("div",{staticClass:"copy-icon",on:{click:t.copy}})]),o("div",{staticClass:"msg"},[t._v(t._s(t.$t("CannotScanCode")))])]):t._e(),2===t.steps?o("div",{staticClass:"content-2"},[o("div",{staticClass:"lable account"},[t._v(t._s(t.$t("GoogleCode")))]),o("div",{staticClass:"account-input"},[o("cube-input",{staticClass:"account-input-text",attrs:{placeholder:t.$t("InputGoogleCode")},model:{value:t.googleCode,callback:function(e){t.googleCode=e},expression:"googleCode"}}),o("cube-validator",{ref:"googleCode",attrs:{model:t.googleCode,rules:t.googleCodeRules},model:{value:t.result[0],callback:function(e){t.$set(t.result,0,e)},expression:"result[0]"}})],1)]):t._e(),o("div",{staticClass:"btn",class:[t.steps>1?"btn-step2":t.steps<1?"btn-step0 can-click":"btn-step1 can-click",t.canClick?"can-click":""],on:{click:t.next}},[t._v(t._s(t.btnTxt))])],1)},c=[],n=o("71c2"),i=o("5d41"),a=o("79ec"),l=o("ae8c"),r=o("1d2f");function d(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,s)}return o}function u(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?d(Object(o),!0).forEach((function(e){p(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):d(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function p(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var g={components:{headerName:n["a"],QRCode:i["a"]},data:function(){return{result:[void 0,void 0,void 0],steps:0,code:"7J3TZSFEVRDKZKIE",qrcode:"",emailCode:"",googleCode:"",codeTxt:this.$t("GetCode"),emailCodeRules:{required:!0},googleCodeRules:{googleCode:!0,required:!0},btnTxt:this.$t("Next"),totalTime:60,businessType:"googleEmail",canClick:!1,codeType:this.$t("SMSCode")}},computed:u({},Object(l["e"])({userInfo:function(t){var e=t.login;return e.userInfo}})),watch:{steps:function(t){this.btnTxt=2===t?this.$t("OpenAuthenticator"):this.$t("Next")},googleCode:function(t){this.canClick=!!t}},methods:u(u(u({},Object(l["b"])("mine",["getVerifyCodeAfterAuth","bindGoogleKey","getGoogleKey"])),Object(l["b"])("login",["getUserInfo"])),{},{getCode:function(){},appStore:function(){location.href="https://apps.apple.com/cn/app/google-authenticator/id388497605"},Android:function(){location.href="https://sj.qq.com/myapp/detail.htm?apkName=com.google.android.apps.authenticator2"},countDown:function(){var t=this;this.canClick&&(this.canClick=!1),this.codeTxt="".concat(this.totalTime,"s"),window.setTimeout((function(){t.totalTime--,t.totalTime>0?t.countDown():0==t.totalTime&&(t.codeTxt=t.$t("GetCode"),t.canClick=!0,t.totalTime=60)}),1e3)},next:function(){var t=this;if(this.steps<2)this.steps++;else{var e=this.$refs.googleCode.validate();e.then((function(e){e&&t.bindGoogleKey({code:t.googleCode,googleCode:t.code}).then((function(e){console.log(e),e.code?console.log(e.msg):(t.getUserInfo().then((function(t){localStorage.setItem("userInformation",JSON.stringify(t))})),Object(a["notifySccessMsg"])(t.$t("BindSuccessfully")),setTimeout((function(){t.$router.push("/mine/securityCenter")}),1e3))}))}))}},copy:function(){var t=this;this.$copyText(this.code).then((function(){t.$toast(t.$t("CopySuccess"))}),(function(){console.log("复制失败！")}))}}),created:function(){r["a"].addRule("googleCode",(function(t){return/^([0-9]){6}$/.test(t)})),r["a"].addMessage("googleCode",this.$t("GoogleCodeMsg"))},mounted:function(){var t=this;console.log(this.userInfo),this.userInfo.phone?(this.codeType=this.$t("SMSCode"),this.businessType="googlePhone"):(this.codeType=this.$t("EmailCode"),this.businessType="googleEmail"),this.getGoogleKey().then((function(e){!e.code&&e.data&&(t.code=e.data.secret,t.qrcode=e.data.qrcode)}))}},f=g,h=(o("9a3c"),o("cbab"),o("4023")),C=Object(h["a"])(f,s,c,!1,null,"ef1dce66",null);e["default"]=C.exports},eef7:function(t,e,o){}}]);