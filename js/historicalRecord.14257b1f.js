(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["historicalRecord"],{"0fc9":function(t,e,i){"use strict";var s=i("9248"),r=i.n(s);r.a},"3e79":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"historical-record"},[i("div",{staticClass:"list-box"},[i("div",{staticClass:"check flex-row"},[i("van-checkbox",{model:{value:t.hideOtherHoldingHis,callback:function(e){t.hideOtherHoldingHis=e},expression:"hideOtherHoldingHis"}},[t._v(t._s(t.$t("Hide")))])],1),i("van-list",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],attrs:{finished:t.finished,"finished-text":t.$t("NoMore")},on:{load:t.onLoad},model:{value:t.Loading,callback:function(e){t.Loading=e},expression:"Loading"}},t._l(t.listDatas,(function(e,s){return i("div",{key:s,staticClass:"list"},[i("div",{staticClass:"list-title flex-row"},[i("div",{staticClass:"name"},[t._v("\n            "+t._s(t.contractObj[e.contractId].symbol)+"\n            "),i("span",{staticClass:"Simulation"},[t._v(t._s(999999===e.contractId?t.$t("Simulation"):""))])]),i("div",{staticClass:"full"},[i("span",{directives:[{name:"show",rawName:"v-show",value:e.fcOrderId,expression:"item.fcOrderId"}],staticClass:"contract-status"},[t._v(t._s(t.$t("ForcedLiq")))]),i("span",{class:[Number(e.side)>0?"bgGreen":"bgRed"]},[t._v(t._s(t.showOrderType(e)))])]),i("div",{staticClass:"transaction-status",on:{click:function(i){return t.$router.push("/contract/transactionDetails?clOrderId="+e.clOrderId)}}},[t._v(t._s(t._f("filterContractStatus")(e.orderStatus)))]),i("div",{staticClass:"arrow-left",on:{click:function(i){return t.$router.push("/contract/transactionDetails?clOrderId="+e.clOrderId)}}})]),i("div",{staticClass:"data"},[i("div",{staticClass:"flex-row top"},[i("div",{staticClass:"l"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("OrderAmount")))]),i("div",{staticClass:"number"},[t._v(t._s(t._f("toFix6")(e.quantity)))])]),i("div",{staticClass:"m"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("OrderPrice")))]),i("div",{staticClass:"number"},[t._v(t._s(1===e.orderType?t.getFloatByPriceTick(e.price,e.contractId):t.$t("MarketPrice")))])]),i("div",{staticClass:"r"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("DealPrice")))]),i("div",{staticClass:"number"},[t._v(t._s(t.getFloatByPriceTick(e.dealPrice,e.contractId)))])])]),i("div",{staticClass:"flex-row"},[i("div",{staticClass:"l"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("DealAmount")))]),i("div",{staticClass:"number"},[t._v(t._s(t._f("toFix6")(e.filledQuantity)))])]),i("div",{staticClass:"m"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("DealPrice")))]),i("div",{staticClass:"number"},[t._v(t._s(t.getFloatByPriceTick(e.dealPrice,e.contractId)))])]),i("div",{staticClass:"r"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("ClosePAndL")))]),i("div",{staticClass:"number"},[t._v(t._s(t._f("toFix6")(e.filledQuantity)))])])]),i("div",{staticClass:"flex-row time"},[i("van-icon",{attrs:{name:"clock-o"}}),t._v(t._s(t.dateFormat(e.timestamp))+"\n          ")],1)])])})),0)],1),i("noData",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"}],attrs:{status:t.noDataStatus}})],1)},r=[],a=i("dee9"),n=i.n(a),o=i("ae8c"),c=i("7746");function l(t){return h(t)||f(t)||u(t)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,e){if(t){if("string"===typeof t)return v(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?v(t,e):void 0}}function f(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function h(t){if(Array.isArray(t))return v(t)}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}function m(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function b(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?m(Object(i),!0).forEach((function(e){p(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function p(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var O=i("8a8d"),g={components:{noData:c["a"]},data:function(){return{listDatas:[],tempListData:[],noDataStatus:2,show:!0,Loading:!1,finished:!1,queryList:[],hideOtherHoldingHis:Boolean(Number(localStorage.getItem("hideOtherHoldingHis")))||!1,historicalRecordEndDate:"",upDownColor:Number(localStorage.getItem("upDownColorIndex"))||0}},computed:b(b({},Object(o["e"])({contractObj:function(t){var e=t.futures;return e.contractObj},contractId:function(t){var e=t.futures;return e.contractID},historicalRecord:function(t){var e=t.futures;return e.historicalRecord}})),Object(o["c"])("futures",["getCurrencySymbolByCurrencyId","getFloatByPriceTick"])),watch:{hideOtherHoldingHis:function(t){localStorage.setItem("hideOtherHoldingHis",Number(t)),this.filterList(t)}},methods:b(b(b({},Object(o["b"])("futures",["queryHisOrder"])),Object(o["d"])("futures",["SETHISTORICALRECORD","SETENDDATE"])),{},{calcTransactionStatus:function(t){var e=this;if(!t||!t.length)return!1;var i=t;i.map((function(t){var i=new O(Number(t.filledCurrency)),s=new O(Number(t.filledQuantity)),r=e.contractObj[t.contractId]?new O(e.contractObj[t.contractId].contractUnit):new O(.01);1===e.contractObj[t.contractId].contractSide?0===Number(t.filledQuantity)?t.dealPrice=0:t.dealPrice=i.div(s.times(r)):t.dealPrice=0!==Number(t.filledCurrency)?s.times(r).div(i):0})),this.listDatas=this.listDatas.concat(i),this.SETHISTORICALRECORD(this.listDatas),this.filterList(this.hideOtherHoldingHis)},filterList:function(t){var e=this;this.listDatas=t?this.listDatas.filter((function(t){return t.contractId===e.contractId})):[].concat(this.historicalRecord)},dateFormat:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY MM-DD HH:mm:ss";return t?(t=n()(Math.floor(Number(t)/1e3)).format(e),t):""},onLoad:function(){var t=this,e={endDate:this.historicalRecordEndDate||1e3*(new Date).getTime(),pageSize:20,side:1};this.queryHisOrder(e).then((function(e){0===e.code&&e.data&&e.data.length?(t.historicalRecordEndDate=e.data[e.data.length-1].timestamp,t.calcTransactionStatus(e.data)):0===t.listDatas.length&&(t.show=!1),t.Loading=!1,0===e.data.length&&(t.finished=!0)}))},showOrderType:function(t){var e=Number(t.positionEffect),i=Number(t.side),s="";return 1===e?s=i>0?this.$t("OpenLong"):this.$t("OpenShort"):2===e&&(s=i>0?this.$t("CloseLong"):this.$t("CloseShort")),console.log(t),s}}),created:function(){this.historicalRecord&&this.historicalRecord.length&&(this.listDatas=l(this.historicalRecord))}},y=g,C=(i("0fc9"),i("4023")),w=Object(C["a"])(y,s,r,!1,null,"3d27e642",null);e["default"]=w.exports},5995:function(t,e,i){"use strict";var s=i("adf8"),r=i.n(s);r.a},7746:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"err"},[i("div",{class:t.icon}),i("div",{staticClass:"message"},[t._v(t._s(t.msg))])])},r=[],a={props:{status:{type:Number}},data:function(){return{msg:"",icon:""}},created:function(){this.icon=this.status>1?"nodata":this.status<1?"failed-to-load":"no-network",this.msg=this.status>1?this.$t("NoData"):this.status<1?this.$t("LoadingError"):this.$t("NoNetwork")}},n=a,o=(i("5995"),i("4023")),c=Object(o["a"])(n,s,r,!1,null,"e21403c4",null);e["a"]=c.exports},9248:function(t,e,i){},adf8:function(t,e,i){}}]);