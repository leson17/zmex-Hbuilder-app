(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-35b13406"],{1407:function(t,a,e){},"246f":function(t,a,e){"use strict";var s=e("fcad"),i=e.n(s);i.a},"621f":function(t,a,e){"use strict";var s=e("ae0c"),i=e.n(s);i.a},"71c2":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"head"},[e("div",{staticClass:"back",on:{click:function(a){return a.stopPropagation(),t.goBack(a)}}},[e("span",{staticClass:"left-arrow"})]),e("span",{staticClass:"title"},[t._v(t._s(t.headerTitle))]),"paymentMethod"===t.currentRoute?e("span",{staticClass:"add-payment-method",on:{click:t.addPaymentMethod}},[t._v(t._s(t.$t("AddPaymentMethod")))]):t._e(),"PnLHistory"===t.currentRoute?e("span",{staticClass:"pnl-icon",on:{click:function(a){return t.$emit("show")}}},[e("van-icon",{attrs:{name:"bars"}})],1):t._e()])},i=[],n={props:{headerTitle:{type:String,required:!0},backUrl:{type:String}},data:function(){return{currentRoute:""}},methods:{addPaymentMethod:function(){this.$emit("addMethod")},goBack:function(){localStorage.getItem("fromPath");this.backUrl?this.$router.push(this.backUrl):this.$router.go("-1")}},created:function(){this.currentRoute=this.$router.currentRoute.name}},r=n,c=(e("c529"),e("4023")),u=Object(c["a"])(r,s,i,!1,null,"402bacfc",null);a["a"]=u.exports},ae0c:function(t,a,e){},b356:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"point-card"},[e("header-name",{attrs:{headerTitle:t.$t("PointCard")}}),e("div",{staticClass:"main"},[e("h6",{staticClass:"title"},[e("i",{staticClass:"square"}),t._v("\n      "+t._s(t.$t("MyPointCard"))+"\n      "),e("router-link",{staticClass:"to-rule",attrs:{to:"/assets/pointCardRule"}},[e("i"),t._v("\n        "+t._s(t.$t("Rule"))+"\n      ")])],1),e("div",{staticClass:"my-cc"},[e("div",{staticClass:"cc-title flex-row"},[e("span",[t._v(t._s(t.$t("Using")))]),e("span",[t._v(t._s(t.$t("Unused")))])]),e("div",{staticClass:"cc-num flex-row"},[e("span",[t._v(t._s(t._f("toFix6")(t.available)))]),e("span",[t._v(t._s(t._f("toFix6")(t.availableBalance)))])])]),e("div",{staticClass:"line"}),e("div",{staticClass:"switch-warp flex-row"},[e("div",{staticClass:"desc"},[t._v(t._s(t.$t("PayForFee"))+" "+t._s(t.$t("Discount")))]),e("van-switch",{attrs:{"active-color":"#007fee",size:"28px",disabled:t.disabled},on:{input:t.updateEnabled},model:{value:t.enable,callback:function(a){t.enable=a},expression:"enable"}})],1),e("div",{staticClass:"line"}),e("h6",{staticClass:"title"},[e("i",{staticClass:"square"}),t._v("\n      "+t._s(t.$t("PurchasePointCard"))+"\n    ")]),e("div",{staticClass:"buy-cc"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("PurchaseQuantity")))]),e("div",{staticClass:"input"},[e("van-field",{attrs:{maxlength:"12",type:"number",center:"",placeholder:t.$t("InputPurchaseQuantity")},on:{input:t.oninput},model:{value:t.buyNum,callback:function(a){t.buyNum=a},expression:"buyNum"}})],1),e("div",{staticClass:"label"},[t._v(t._s(t.$t("PaymentCurrency")))]),e("div",{staticClass:"input"},[e("cube-select",{attrs:{title:t.$t("Currency"),options:t.currencyList},model:{value:t.currencyId,callback:function(a){t.currencyId=a},expression:"currencyId"}})],1),e("div",{staticClass:"cc-value"},[e("span",[t._v("1CC = 0.1USDT")]),e("span",{staticClass:"discount"},[t._v(t._s(t.$t("CCisTenOffNow")))])]),e("div",{staticClass:"tips"},[e("div",[t._v(t._s(t.$t("Tips")))]),e("p",[t._v(t._s(t.$t("PurchasePointCardCompletion")))]),e("p",[t._v(t._s(t.$t("ChooseToPurchase")))]),e("p",[t._v(t._s(t.$t("OpenPayFoeFee")))])])]),e("div",{staticClass:"line"}),e("h6",{staticClass:"title"},[e("i",{staticClass:"square"}),t._v("\n      "+t._s(t.$t("PurchaseHistory"))+"\n    ")]),e("van-list",{directives:[{name:"show",rawName:"v-show",value:0!==t.historyList.length,expression:"historyList.length !== 0"}],attrs:{finished:t.params.finished,"finished-text":t.$t("NoMore")},on:{load:t.getInfo},model:{value:t.params.loading,callback:function(a){t.$set(t.params,"loading",a)},expression:"params.loading"}},[e("div",{staticClass:"record"},t._l(t.historyList,(function(a){return e("div",{key:a.index,staticClass:"item"},[e("div",{staticClass:"record-title"},[e("span",[t._v(t._s(t.$t("PurchasePointCard")))]),e("span",[t._v(t._s(t.$t("Completed")))])]),e("div",{staticClass:"item-title flex-row"},[e("span",{staticClass:"left"},[t._v(t._s(t.$t("Quantity")))]),e("span",{staticClass:"mid"},[t._v(t._s(t.$t("Value")))]),e("span",{staticClass:"right"},[t._v(t._s(t.$t("Time")))])]),e("div",{staticClass:"item-num flex-row"},[e("span",{staticClass:"left"},[t._v(t._s(t._f("toFix6")(a.cardsQty)))]),e("span",{staticClass:"mid"},[t._v(t._s(t._f("toFix6")(a.payQty))+" "+t._s(t.currencySymbol(a.payCurrencyId)))]),e("span",{staticClass:"right"},[t._v(t._s(t._f("dateFormatForHis")(a.createTime)))])])])})),0)])],1),e("div",{staticClass:"footer flex-row"},[e("div",[t._v(t._s(t.$t("PaymentAmount"))+": "+t._s(t._f("toFix6")(t.payNum))+" "+t._s(t.symbol))]),e("aside",{class:{"can-click":t.buyNum&&t.currencyId},on:{click:t.buyCC}},[t._v(t._s(t.$t("Purchase")))])])],1)},i=[],n=e("ae8c"),r=e("71c2"),c=e("ff51");function u(t){return f(t)||d(t)||l(t)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t,a){if(t){if("string"===typeof t)return p(t,a);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?p(t,a):void 0}}function d(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function f(t){if(Array.isArray(t))return p(t)}function p(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,s=new Array(a);e<a;e++)s[e]=t[e];return s}function h(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,s)}return e}function y(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?h(Object(e),!0).forEach((function(a){m(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):h(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}function m(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}var v={components:{headerName:r["a"]},data:function(){return{availableBalance:0,available:0,enable:!1,disabled:!1,buyNum:null,payNum:0,ccCurrencyId:null,currencyId:null,symbol:"",price:.01,currencyPrice:.01,currencyList:[],AssetAccountList:[],historyList:[],params:{pageNum:1,pageSize:10,loading:!1,finished:!1},uuid:""}},watch:{ccCurrencyId:function(t){var a=this;this.futureQueryAvail({applId:2}).then((function(e){if(0===e.code){var s=e.data.find((function(a){return a.currencyId===t}));a.available=s?s.available:0}}))},currencyId:function(t){var a=this.currencyList.find((function(a){return a.value===t}));this.symbol=a.text,this.currencyPrice=a.price*this.price,this.payNum=100*this.buyNum*this.currencyPrice/100},buyNum:function(t,a){if(!t)return this.buyNum=null,this.payNum=0,!1;var e=/^[1-9][0-9]*$/;this.buyNum=e.test(t)?t:a,this.payNum=100*this.buyNum*this.currencyPrice/100}},created:function(){var t=this;this.getAssetAccount().then((function(a){t.getInfo(),t.AssetAccountList=a.data.data}))},mounted:function(){},methods:y(y(y({},Object(n["b"])("assets",["getCardsInfo","buyCards","updateCardEnabled","getAssetAccount"])),Object(n["b"])("futures",["futureQueryAvail"])),{},{getInfo:function(){var t=this;this.params.loading=!0;var a=u(this.historyList),e={pageNum:this.params.pageNum,pageSize:this.params.pageSize};this.getCardsInfo(e).then((function(e){0===e.data.code&&(t.price=e.data.data.price,t.availableBalance=e.data.data.availableBalance,t.currencyId||(t.currencyId=e.data.data.defaultCurrencyId),t.ccCurrencyId=e.data.data.currencyId,t.enable=!e.data.data.enable,0===t.currencyList.length&&e.data.data.cardsList&&e.data.data.cardsList.length>0&&e.data.data.cardsList.forEach((function(a){a.value=a.currencyId,a.text=a.currencyName,t.currencyList.push(a)})),t.historyList=a.concat(e.data.data.cardsHistoryList.list),t.params.pageNum++,t.historyList.length===e.data.data.cardsHistoryList.total&&(t.params.finished=!0),t.params.loading=!1)}))},oninput:function(){this.buyNum=this.buyNum.replace(/\./g,"")||0},updateEnabled:function(){var t=this;this.disabled=!0;var a={enabled:Number(!this.enable)};this.updateCardEnabled(a).then((function(a){0===a.data.code&&(t.disabled=!1)}))},currencySymbol:function(t){return this.currencyList&&this.currencyList.find((function(a){return a.value===t})).text},buyCC:function(){var t=this;if(!this.buyNum||!this.currencyId)return!1;this.$dialog.confirm({title:this.$t("OrderConfirm"),message:this.$t("TradingOperation")}).then((function(){t.order()})).catch((function(){}))},order:function(){var t=this;this.uuid=Object(c["j"])();var a={commodityId:this.ccCurrencyId,cardsQty:parseFloat(this.buyNum),payCurrencyId:this.currencyId};this.buyCards({params:a,headers:{unique:this.uuid}}).then((function(a){0===a.data.code&&(t.historyList=[],t.params={pageNum:1,pageSize:10,loading:!1,finished:!1},t.getInfo(),t.$dialog.confirm({title:t.$t("PurchaseSuccess"),message:t.$t("TransferToPay"),confirmButtonText:t.$t("Transfer")}).then((function(){t.$router.push({name:"assets-transfer",params:{currencyId:t.ccCurrencyId,type:1}})})).catch((function(){})))}))}})},b=v,C=(e("246f"),e("621f"),e("4023")),_=Object(C["a"])(b,s,i,!1,null,"264ea27e",null);a["default"]=_.exports},c529:function(t,a,e){"use strict";var s=e("1407"),i=e.n(s);i.a},fcad:function(t,a,e){}}]);