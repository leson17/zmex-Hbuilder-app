(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["agentRebate"],{1407:function(e,t,a){},"2a66":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"posi-share"},[s("div",{staticClass:"share-bg"},[s("div",{staticClass:"loading"},[e.loading?s("van-loading",{attrs:{type:"spinner",color:"#1989fa"}}):e._e()],1),s("img",{staticClass:"result-img",attrs:{src:e.imgUrl,alt:""},on:{click:e.closeFooter}})]),s("div",{ref:"shareBox",staticClass:"share-pic"},[s("div",{staticClass:"share-pic-bg"},[e.isEn?e._e():s("div",[s("img",{staticClass:"image1",attrs:{src:a("b317"),alt:""}}),s("img",{staticClass:"image2",attrs:{src:a("9456"),alt:""}}),s("img",{staticClass:"image3",attrs:{src:a("5c82"),alt:""}})])]),s("div",{staticClass:"share-pic-bottom share-pic-bottom-up"},[s("div",{staticClass:"right"},[s("div",{staticClass:"one",class:[e.isEn]},[e._v("欢迎注册ZMEX")]),s("div",{staticClass:"other"},[e._v("邀请您加入ZMEX,长按识别二维码")]),s("div",{staticClass:"link"},[e._v("zmex.co")])]),s("div",{staticClass:"qr-code"},[s("vue-qr",{attrs:{text:e.inviteUrlForQr,dotScale:1,qid:"testid",size:70,margin:0,autoColor:"false"}})],1)])])])},i=[],n=a("ae8c"),r=a("e81a"),c=a.n(r),o=a("b27f"),l=a("4579"),u=a.n(l);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){h(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function h(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var b={components:{VueQr:u.a},data:function(){return{imgUrl:"",isEn:!1,inviteUrlForQr:"123",loading:!0}},methods:v(v({},Object(n["b"])("mine",["inviteCode"])),{},{closeFooter:function(){this.$emit("closeFooter")}}),mounted:function(){var e=this;window.scrollTo(0,0),this.inviteCode().then((function(t){e.inviteUrlForQr="".concat(window.location.origin,"/activity/register?inviteCode=").concat(t.data.data.inviteCode),Object(o["setTimeout"])((function(){c()(e.$refs.shareBox,{useCORS:!0,backgroundColor:null,scrollY:0,scrollX:0}).then((function(t){e.loading=!1,e.imgUrl=t.toDataURL("image/png"),e.$toast(window.plus?"请截屏保存图片去分享":"请长按或截屏保存图片去分享")}))}),4e3)}))}},m=b,p=(a("bc2c"),a("4023")),f=Object(p["a"])(m,s,i,!1,null,"44881fb1",null);t["a"]=f.exports},"32c1":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"calculate-body"},["numberOne"!==e.show?[e._v("404")]:e._e(),"numberOne"===e.show?[a("div",{staticClass:"calculate-form"},[a("div",{staticClass:"item"},[a("span",{staticClass:"label"},[e._v("币对")]),a("cube-input",{staticClass:"item-value",attrs:{disabled:""},model:{value:e.symbol,callback:function(t){e.symbol=t},expression:"symbol"}})],1),a("div",{staticClass:"item"},[a("span",{staticClass:"label"},[e._v("方向")]),a("cube-radio-group",{staticClass:"item-value",attrs:{options:e.posiQtyList,position:"right","col-num":2,"hollow-style":!0},model:{value:e.posiQty,callback:function(t){e.posiQty=t},expression:"posiQty"}})],1),a("div",{staticClass:"item"},[a("span",{staticClass:"label"},[e._v("开仓价")]),a("cube-input",{staticClass:"item-value",attrs:{type:"number",placeholder:"请输入开仓价格"},model:{value:e.openPrice,callback:function(t){e.openPrice=t},expression:"openPrice"}})],1),a("div",{staticClass:"item"},[a("span",{staticClass:"label"},[e._v("最新价")]),a("cube-input",{staticClass:"item-value",attrs:{type:"number",placeholder:"请输入最新价格"},model:{value:e.lastPrice,callback:function(t){e.lastPrice=t},expression:"lastPrice"}})],1),a("div",{staticClass:"item"},[a("span",{staticClass:"label"},[e._v("杠杆倍数")]),a("cube-input",{staticClass:"item-value",model:{value:e.leverage,callback:function(t){e.leverage=t},expression:"leverage"}})],1),a("cube-button",{staticClass:"btn",on:{click:e.sharePoster}},[e._v("生成海报")]),a("cube-button",{staticClass:"btn",on:{click:function(t){return e.$router.push("/")}}},[e._v("返回首页")]),a("div",[e._v(e._s(e.text))])],1)]:e._e(),a("van-popup",{attrs:{position:"bottom"},model:{value:e.isShare,callback:function(t){e.isShare=t},expression:"isShare"}},[e.isShare?a("PosiShare",{attrs:{item:e.item},on:{closeFooter:e.closeFooter}}):e._e()],1),e.showCancelScan?a("div",{staticClass:"cancel-scan"},[a("span",{on:{click:e.cancelScan}},[e._v(e._s(e.$t("Cancel")))])]):e._e()],2)},i=[],n=a("9e1a"),r=a("ae8c");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var u={components:{PosiShare:n["a"]},data:function(){return{isShare:!1,symbol:"BTC/USDT",posiQty:1,posiQtyList:[{label:"做多",value:1},{label:"做空",value:0}],openPrice:"",lastPrice:"",item:{posiMode:0,returnRate:0},leverage:125,barcode:null,showCancelScan:!1,text:"",shareMsg:{type:"web",title:"好友邀请你领取100 USDT赠金",content:"专注于比特币永续合约的交易平台",href:"https://m.zmex.co/activity/lending?from=home",thumbs:["https://m.zmex.co/img/app-download-ic.72f43025.png"],extra:{scene:"WXSceneSession"}},shareData:{},sharewx:{}}},computed:o(o({},Object(r["e"])("common",["guest"])),{},{show:function(){return this.$route.query.whoAreYou}}),methods:{sharePoster:function(){if(this.guest)return this.$toast("请先登录，再进入此页面"),!1;this.item.symbol=this.symbol,this.item.posiQty=this.posiQty,this.item.openPrice=this.openPrice,this.item.lastPrice=this.lastPrice,Number(this.posiQty)>0?this.item.returnRate=((-Number(this.openPrice)+Number(this.lastPrice))/(Number(this.openPrice)/Number(this.leverage))*100).toFixed(2):this.item.returnRate=((Number(this.openPrice)-Number(this.lastPrice))/(Number(this.openPrice)/Number(this.leverage))*100).toFixed(2),this.isShare=!0},closeFooter:function(){this.isShare=!1},isHtml5Plus:function(){return navigator.userAgent.indexOf("Html5Plus")>-1},createBarcode:function(){this.barcode||(this.barcode=plus.barcode.create("barcode",[plus.barcode.QR],{top:"40px",left:"0px",width:"100%",height:"100%",position:"static"}),this.barcode.onmarked=this.onmarked,plus.webview.currentWebview().append(this.barcode)),this.barcode.start(),this.showCancelScan=!this.showCancelScan},onmarked:function(e,t){switch(e){case plus.barcode.QR:"QR: ";break;case plus.barcode.EAN13:"EAN13: ";break;case plus.barcode.EAN8:"EAN8: ";break}this.barcode.close(),this.barcode=null,this.text=t,this.showCancelScan=!this.showCancelScan},cancelScan:function(){this.showCancelScan=!this.showCancelScan,this.barcode&&(this.barcode.close(),this.barcode=null)},share:function(){var e=this;plus.share.getServices((function(t){for(var a in e.shareData=t,t)"weixin"==t[a].id&&(e.sharewx=t[a])})),e.sharewx.send(this.shareMsg,(function(){console.log("分享成功")}),(function(e){console.log("分享失败")}))}}},d=u,v=(a("64bc"),a("4023")),h=Object(v["a"])(d,s,i,!1,null,"5749e6f1",null);t["default"]=h.exports},"5c82":function(e,t,a){e.exports=a.p+"img/img_wenan3@2x.970c15b4.png"},"64bc":function(e,t,a){"use strict";var s=a("b425"),i=a.n(s);i.a},"71c2":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"head"},[a("div",{staticClass:"back",on:{click:function(t){return t.stopPropagation(),e.goBack(t)}}},[a("span",{staticClass:"left-arrow"})]),a("span",{staticClass:"title"},[e._v(e._s(e.headerTitle))]),"paymentMethod"===e.currentRoute?a("span",{staticClass:"add-payment-method",on:{click:e.addPaymentMethod}},[e._v(e._s(e.$t("AddPaymentMethod")))]):e._e(),"PnLHistory"===e.currentRoute?a("span",{staticClass:"pnl-icon",on:{click:function(t){return e.$emit("show")}}},[a("van-icon",{attrs:{name:"bars"}})],1):e._e()])},i=[],n={props:{headerTitle:{type:String,required:!0},backUrl:{type:String}},data:function(){return{currentRoute:""}},methods:{addPaymentMethod:function(){this.$emit("addMethod")},goBack:function(){localStorage.getItem("fromPath");this.backUrl?this.$router.push(this.backUrl):this.$router.go("-1")}},created:function(){this.currentRoute=this.$router.currentRoute.name}},r=n,c=(a("c529"),a("4023")),o=Object(c["a"])(r,s,i,!1,null,"402bacfc",null);t["a"]=o.exports},"737e":function(e,t,a){"use strict";var s=a("8c45"),i=a.n(s);i.a},"756d":function(e,t,a){},"759d":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"agentRebate"},[a("header-name",{attrs:{headerTitle:e.$t("InvitationRecord")}}),a("div",{staticClass:"top"},[a("div",{staticClass:"Rebate-title"},[a("div",{staticClass:"Rebate-title-t"},[e._v("\n        账户名称: "),a("span",{staticClass:"Rebate-title-t-color"},[e._v(e._s(e.agentInfo?e.agentInfo.brokerName:""))])])]),a("div",{staticClass:"Rebateinfo"},[a("div",{staticClass:"l"},[a("span",{staticClass:"label"},[e._v("旗下客户人数")]),a("span",{staticClass:"value"},[e._v(e._s(e.agentInfo?e.agentInfo.invitedPersons:0))])]),a("div",{staticClass:"r"},[a("span",{staticClass:"label"},[e._v("返佣比例")]),a("span",{staticClass:"value"},[e._v(e._s(e.agentInfo&&e.agentInfo.rebateRules?100*Number(e.agentInfo.rebateRules[0].rebateRule):0)+"%")])])])]),a("div",{staticClass:"Rebate-t"},[a("div",{staticClass:"Rebate-t-title"},[e._v("累计获得返佣")]),a("div",{staticClass:"Rebate-t-num"},e._l(e.RebateList,(function(t,s){return a("div",{key:s},[a("span",{staticClass:"value"},[e._v(e._s(e._f("toFix8")(e.getRebateT(t.currencyId)||0)))]),a("span",{staticClass:"label"},[e._v(e._s(t.label))])])})),0)]),a("div",{staticClass:"line"}),a("div",{staticClass:"list-contant"},[a("div",{staticClass:"title"},[e._v("客户手续费贡献排行榜")]),a("van-tabs",{staticClass:"list-contant-tabs",attrs:{sticky:!0},on:{change:e.activeChange},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("cube-select",{staticClass:"select-top",attrs:{title:"",options:e.dateList},model:{value:e.field,callback:function(t){e.field=t},expression:"field"}}),a("van-tab",{attrs:{title:"USDT"}},[a("div",{staticClass:"list-item-content"},[e._l(e.StatFeeRank,(function(t,s){return a("div",{directives:[{name:"show",rawName:"v-show",value:e.StatFeeRank.length,expression:"StatFeeRank.length"}],key:s,staticClass:"list-item",class:{"list-item-3":s<3}},[a("div",{staticClass:"l"},[a("div",{directives:[{name:"show",rawName:"v-show",value:s>2,expression:"index > 2"}],staticClass:"index"},[e._v(e._s(s))]),a("div",{directives:[{name:"show",rawName:"v-show",value:0===s,expression:"index === 0"}],staticClass:"first"}),a("div",{directives:[{name:"show",rawName:"v-show",value:1===s,expression:"index === 1"}],staticClass:"second"}),a("div",{directives:[{name:"show",rawName:"v-show",value:2===s,expression:"index === 2"}],staticClass:"third"}),a("div",{staticClass:"username"},[e._v(e._s(t.username))])]),a("div",{staticClass:"r"},[e._v(e._s(t[e.getProperty]>0?"+":"")+e._s(e._f("toFix8")(t[""+e.getProperty])))])])})),a("noData",{directives:[{name:"show",rawName:"v-show",value:0===e.StatFeeRank.length,expression:"StatFeeRank.length === 0"}],attrs:{status:2}})],2)]),a("van-tab",{attrs:{title:"BTC"}},[a("div",{staticClass:"list-item-content"},[e._l(e.StatFeeRank,(function(t,s){return a("div",{directives:[{name:"show",rawName:"v-show",value:e.StatFeeRank.length,expression:"StatFeeRank.length"}],key:s,staticClass:"list-item",class:{"list-item-3":s<3}},[a("div",{staticClass:"l"},[a("div",{directives:[{name:"show",rawName:"v-show",value:s>2,expression:"index > 2"}],staticClass:"index"},[e._v(e._s(s))]),a("div",{directives:[{name:"show",rawName:"v-show",value:0===s,expression:"index === 0"}],staticClass:"first"}),a("div",{directives:[{name:"show",rawName:"v-show",value:1===s,expression:"index === 1"}],staticClass:"second"}),a("div",{directives:[{name:"show",rawName:"v-show",value:2===s,expression:"index === 2"}],staticClass:"third"}),a("div",{staticClass:"username"},[e._v(e._s(t.username))])]),a("div",{staticClass:"r"},[e._v(e._s(t[e.getProperty]>0?"+":"")+e._s(e._f("toFix8")(t[e.getProperty])))])])})),a("noData",{directives:[{name:"show",rawName:"v-show",value:0===e.StatFeeRank.length,expression:"StatFeeRank.length === 0"}],attrs:{status:2}})],2)]),a("van-tab",{attrs:{title:"ETH"}},[a("div",{staticClass:"list-item-content"},[e._l(e.StatFeeRank,(function(t,s){return a("div",{directives:[{name:"show",rawName:"v-show",value:e.StatFeeRank.length,expression:"StatFeeRank.length"}],key:s,staticClass:"list-item",class:{"list-item-3":s<3}},[a("div",{staticClass:"l"},[a("div",{directives:[{name:"show",rawName:"v-show",value:s>2,expression:"index > 2"}],staticClass:"index"},[e._v(e._s(s))]),a("div",{directives:[{name:"show",rawName:"v-show",value:0===s,expression:"index === 0"}],staticClass:"first"}),a("div",{directives:[{name:"show",rawName:"v-show",value:1===s,expression:"index === 1"}],staticClass:"second"}),a("div",{directives:[{name:"show",rawName:"v-show",value:2===s,expression:"index === 2"}],staticClass:"third"}),a("div",{staticClass:"username"},[e._v(e._s(t.username))])]),a("div",{staticClass:"r"},[e._v(e._s(t[e.getProperty]>0?"+":"")+e._s(e._f("toFix8")(t[e.getProperty])))])])})),a("noData",{directives:[{name:"show",rawName:"v-show",value:0===e.StatFeeRank.length,expression:"StatFeeRank.length === 0"}],attrs:{status:2}})],2)])],1)],1),a("invitation-footer",{attrs:{rebateRatio:e.rebateRule}})],1)},i=[],n=a("ee01"),r=a("7746"),c=a("71c2"),o=a("2a66"),l={components:{headerName:c["a"],noData:r["a"],InvitationFooter:o["a"]},data:function(){return{active:0,StatFeeRank:[],RebateList:[{label:"USDT",currencyId:7},{label:"BTC",currencyId:2},{label:"ETH",currencyId:1}],agentInfo:{},dateList:[{text:"累计",value:"total_fee"},{text:"日排行",value:"day_fee"},{text:"7天排行",value:"week_fee"},{text:"30天排行",value:"month_fee"},{text:"90天排行",value:"threemonth_fee"}],field:"total_fee",currencyId:7}},created:function(){this.getAgentInfo(),this.queryStatFeeRank()},computed:{rebateRule:function(){return this.agentInfo&&this.agentInfo.rebateRules.length?this.agentInfo.rebateRules[0].rebateRule:"0.2"},getProperty:function(){switch(this.field){case"total_fee":return"totalFee";case"day_fee":return"dayFee";case"week_fee":return"weekFee";case"month_fee":return"monthFee";case"threemonth_fee":return"threemonthFee";default:return"totalFee"}}},watch:{field:function(e){this.queryStatFeeRank()}},methods:{activeChange:function(e){switch(e){case 0:this.currencyId=7;break;case 1:this.currencyId=2;break;case 2:this.currencyId=1;break;default:break}this.queryStatFeeRank()},queryStatFeeRank:function(){var e=this,t={currencyId:this.currencyId,field:this.field};Object(n["y"])({params:t}).then((function(t){0===t.data.code&&(e.StatFeeRank=t.data.data)}))},getAgentInfo:function(){var e=this;Object(n["b"])().then((function(t){0===t.data.code&&(e.agentInfo=t.data.data)}))},getRebateT:function(e){return this.agentInfo&&this.agentInfo.rebates&&this.agentInfo.rebates.find((function(t){return t.currencyId===e}))?this.agentInfo.rebates.find((function(t){return t.currencyId===e})).receivedRebateAmount:0},goBack:function(){this.$router.push("/")},onClickLeft:function(){Toast("返回")},onClickRight:function(){Toast("按钮")}}},u=l,d=(a("737e"),a("9c9c"),a("4023")),v=Object(d["a"])(u,s,i,!1,null,"0aad631f",null);t["default"]=v.exports},"8c45":function(e,t,a){},9456:function(e,t,a){e.exports=a.p+"img/img_wenan2@2x.860377be.png"},"9c9c":function(e,t,a){"use strict";var s=a("9e49"),i=a.n(s);i.a},"9e49":function(e,t,a){},b317:function(e,t,a){e.exports=a.p+"img/img_wenan1@2x.13dc9ea7.png"},b425:function(e,t,a){},bc2c:function(e,t,a){"use strict";var s=a("756d"),i=a.n(s);i.a},c529:function(e,t,a){"use strict";var s=a("1407"),i=a.n(s);i.a}}]);