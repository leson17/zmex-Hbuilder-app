(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["transaction"],{"051b":function(t,e,i){"use strict";var n=i("f9f8"),r=i.n(n);r.a},"0a52":function(t,e,i){},"12dd":function(t,e,i){"use strict";var n=i("c133"),r=i.n(n);r.a},"18b2":function(t,e,i){"use strict";var n=i("682c"),r=i.n(n);r.a},2049:function(t,e,i){"use strict";var n=i("691f"),r=i.n(n);r.a},"2b18":function(t,e,i){},"2b5f":function(t,e,i){},"2b74":function(t,e,i){"use strict";var n=i("a504"),r=i.n(n);r.a},"328b":function(t,e,i){},"51a4":function(t,e,i){(function(e){
/*!
 *
 * Copyright 2009-2017 Kris Kowal under the terms of the MIT
 * license found at https://github.com/kriskowal/q/blob/v1/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */
(function(e){"use strict";"function"===typeof bootstrap?bootstrap("promise",e):t.exports=e()})((function(){"use strict";var t=!1;try{throw new Error}catch(dt){t=!!dt.stack}var i,n=S(),r=function(){},s=function(){var t={task:void 0,next:null},i=t,n=!1,r=void 0,o=!1,c=[];function a(){var e,i;while(t.next)t=t.next,e=t.task,t.task=void 0,i=t.domain,i&&(t.domain=void 0,i.enter()),u(e,i);while(c.length)e=c.pop(),u(e);n=!1}function u(t,e){try{t()}catch(dt){if(o)throw e&&e.exit(),setTimeout(a,0),e&&e.enter(),dt;setTimeout((function(){throw dt}),0)}e&&e.exit()}if(s=function(t){i=i.next={task:t,domain:o&&e.domain,next:null},n||(n=!0,r())},"object"===typeof e&&"[object process]"===e.toString()&&e.nextTick)o=!0,r=function(){e.nextTick(a)};else if("function"===typeof setImmediate)r="undefined"!==typeof window?setImmediate.bind(window,a):function(){setImmediate(a)};else if("undefined"!==typeof MessageChannel){var l=new MessageChannel;l.port1.onmessage=function(){r=d,l.port1.onmessage=a,a()};var d=function(){l.port2.postMessage(0)};r=function(){setTimeout(a,0),d()}}else r=function(){setTimeout(a,0)};return s.runAfter=function(t){c.push(t),n||(n=!0,r())},s}(),o=Function.call;function c(t){return function(){return o.apply(t,arguments)}}var a,u=c(Array.prototype.slice),l=c(Array.prototype.reduce||function(t,e){var i=0,n=this.length;if(1===arguments.length)do{if(i in this){e=this[i++];break}if(++i>=n)throw new TypeError}while(1);for(;i<n;i++)i in this&&(e=t(e,this[i],i));return e}),d=c(Array.prototype.indexOf||function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return e;return-1}),h=c(Array.prototype.map||function(t,e){var i=this,n=[];return l(i,(function(r,s,o){n.push(t.call(e,s,o,i))}),void 0),n}),f=Object.create||function(t){function e(){}return e.prototype=t,new e},p=Object.defineProperty||function(t,e,i){return t[e]=i.value,t},m=c(Object.prototype.hasOwnProperty),v=Object.keys||function(t){var e=[];for(var i in t)m(t,i)&&e.push(i);return e},g=c(Object.prototype.toString);function b(t){return t===Object(t)}function y(t){return"[object StopIteration]"===g(t)||t instanceof a}a="undefined"!==typeof ReturnValue?ReturnValue:function(t){this.value=t};var O="From previous event:";function P(e,i){if(t&&i.stack&&"object"===typeof e&&null!==e&&e.stack){for(var n=[],r=i;r;r=r.source)r.stack&&(!e.__minimumStackCounter__||e.__minimumStackCounter__>r.stackCounter)&&(p(e,"__minimumStackCounter__",{value:r.stackCounter,configurable:!0}),n.unshift(r.stack));n.unshift(e.stack);var s=n.join("\n"+O+"\n"),o=I(s);p(e,"stack",{value:o,configurable:!0})}}function I(t){for(var e=t.split("\n"),i=[],n=0;n<e.length;++n){var r=e[n];_(r)||C(r)||!r||i.push(r)}return i.join("\n")}function C(t){return-1!==t.indexOf("(module.js:")||-1!==t.indexOf("(node.js:")}function w(t){var e=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(e)return[e[1],Number(e[2])];var i=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(i)return[i[1],Number(i[2])];var n=/.*@(.+):(\d+)$/.exec(t);return n?[n[1],Number(n[2])]:void 0}function _(t){var e=w(t);if(!e)return!1;var r=e[0],s=e[1];return r===i&&s>=n&&s<=lt}function S(){if(t)try{throw new Error}catch(dt){var e=dt.stack.split("\n"),n=e[0].indexOf("@")>0?e[1]:e[2],r=w(n);if(!r)return;return i=r[0],r[1]}}function x(t,e,i){return function(){return"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e+" is deprecated, use "+i+" instead.",new Error("").stack),t.apply(t,arguments)}}function j(t){return t instanceof L?t:E(t)?Y(t):J(t)}j.resolve=j,j.nextTick=s,j.longStackSupport=!1;var k=1;function T(){var e,i=[],n=[],r=f(T.prototype),s=f(L.prototype);if(s.promiseDispatch=function(t,r,s){var o=u(arguments);i?(i.push(o),"when"===r&&s[1]&&n.push(s[1])):j.nextTick((function(){e.promiseDispatch.apply(e,o)}))},s.valueOf=function(){if(i)return s;var t=$(e);return A(t)&&(e=t),t},s.inspect=function(){return e?e.inspect():{state:"pending"}},j.longStackSupport&&t)try{throw new Error}catch(dt){s.stack=dt.stack.substring(dt.stack.indexOf("\n")+1),s.stackCounter=k++}function o(r){e=r,j.longStackSupport&&t&&(s.source=r),l(i,(function(t,e){j.nextTick((function(){r.promiseDispatch.apply(r,e)}))}),void 0),i=void 0,n=void 0}return r.promise=s,r.resolve=function(t){e||o(j(t))},r.fulfill=function(t){e||o(J(t))},r.reject=function(t){e||o(W(t))},r.notify=function(t){e||l(n,(function(e,i){j.nextTick((function(){i(t)}))}),void 0)},r}function N(t){if("function"!==typeof t)throw new TypeError("resolver must be a function.");var e=T();try{t(e.resolve,e.reject,e.notify)}catch(i){e.reject(i)}return e.promise}function D(t){return N((function(e,i){for(var n=0,r=t.length;n<r;n++)j(t[n]).then(e,i)}))}function L(t,e,i){void 0===e&&(e=function(t){return W(new Error("Promise does not support operation: "+t))}),void 0===i&&(i=function(){return{state:"unknown"}});var n=f(L.prototype);if(n.promiseDispatch=function(i,r,s){var o;try{o=t[r]?t[r].apply(n,s):e.call(n,r,s)}catch(c){o=W(c)}i&&i(o)},n.inspect=i,i){var r=i();"rejected"===r.state&&(n.exception=r.reason),n.valueOf=function(){var t=i();return"pending"===t.state||"rejected"===t.state?n:t.value}}return n}function M(t,e,i,n){return j(t).then(e,i,n)}function $(t){if(A(t)){var e=t.inspect();if("fulfilled"===e.state)return e.value}return t}function A(t){return t instanceof L}function E(t){return b(t)&&"function"===typeof t.then}function R(t){return A(t)&&"pending"===t.inspect().state}function F(t){return!A(t)||"fulfilled"===t.inspect().state}function U(t){return A(t)&&"rejected"===t.inspect().state}"object"===typeof e&&e&&Object({NODE_ENV:"production",VUE_APP_API_URL:"",VUE_APP_GEETEST_FLAG:"0",VUE_APP_I18N_FALLBACK_LOCALE:"zh_CN",VUE_APP_I18N_LOCALE:"zh_CN",VUE_APP_M_URL:"https://mtest.ccfox.com",VUE_APP_OTC365_TEST:"http://open.otc365test.com",VUE_APP_WEB_APK_URL:"https://zmex-pro.oss-cn-hongkong.aliyuncs.com/app/android/m.zmex.co.apk",VUE_APP_WEB_CUSTOMERS:"ruud77r,viviani_106",VUE_APP_WEB_IOS_URL:"https://testflight.apple.com/join/YYVEIKWI",VUE_APP_WEB_TELEGRAM_URL:"https://t.me/zmexOfficial",VUE_APP_WEB_URL:"https://webtest.ccfox.com/",VUE_APP_WEB_ZENDESK_URL:"https://help.zmex.co/",VUE_APP_WS_URL:"wss://futurews.zmex.co",BASE_URL:""})&&Object({NODE_ENV:"production",VUE_APP_API_URL:"",VUE_APP_GEETEST_FLAG:"0",VUE_APP_I18N_FALLBACK_LOCALE:"zh_CN",VUE_APP_I18N_LOCALE:"zh_CN",VUE_APP_M_URL:"https://mtest.ccfox.com",VUE_APP_OTC365_TEST:"http://open.otc365test.com",VUE_APP_WEB_APK_URL:"https://zmex-pro.oss-cn-hongkong.aliyuncs.com/app/android/m.zmex.co.apk",VUE_APP_WEB_CUSTOMERS:"ruud77r,viviani_106",VUE_APP_WEB_IOS_URL:"https://testflight.apple.com/join/YYVEIKWI",VUE_APP_WEB_TELEGRAM_URL:"https://t.me/zmexOfficial",VUE_APP_WEB_URL:"https://webtest.ccfox.com/",VUE_APP_WEB_ZENDESK_URL:"https://help.zmex.co/",VUE_APP_WS_URL:"wss://futurews.zmex.co",BASE_URL:""}).Q_DEBUG&&(j.longStackSupport=!0),j.defer=T,T.prototype.makeNodeResolver=function(){var t=this;return function(e,i){e?t.reject(e):arguments.length>2?t.resolve(u(arguments,1)):t.resolve(i)}},j.Promise=N,j.promise=N,N.race=D,N.all=rt,N.reject=W,N.resolve=j,j.passByCopy=function(t){return t},L.prototype.passByCopy=function(){return this},j.join=function(t,e){return j(t).join(e)},L.prototype.join=function(t){return j([this,t]).spread((function(t,e){if(t===e)return t;throw new Error("Q can't join: not the same: "+t+" "+e)}))},j.race=D,L.prototype.race=function(){return this.then(j.race)},j.makePromise=L,L.prototype.toString=function(){return"[object Promise]"},L.prototype.then=function(t,e,i){var n=this,r=T(),s=!1;function o(e){try{return"function"===typeof t?t(e):e}catch(i){return W(i)}}function c(t){if("function"===typeof e){P(t,n);try{return e(t)}catch(i){return W(i)}}return W(t)}function a(t){return"function"===typeof i?i(t):t}return j.nextTick((function(){n.promiseDispatch((function(t){s||(s=!0,r.resolve(o(t)))}),"when",[function(t){s||(s=!0,r.resolve(c(t)))}])})),n.promiseDispatch(void 0,"when",[void 0,function(t){var e,i=!1;try{e=a(t)}catch(dt){if(i=!0,!j.onerror)throw dt;j.onerror(dt)}i||r.notify(e)}]),r.promise},j.tap=function(t,e){return j(t).tap(e)},L.prototype.tap=function(t){return t=j(t),this.then((function(e){return t.fcall(e).thenResolve(e)}))},j.when=M,L.prototype.thenResolve=function(t){return this.then((function(){return t}))},j.thenResolve=function(t,e){return j(t).thenResolve(e)},L.prototype.thenReject=function(t){return this.then((function(){throw t}))},j.thenReject=function(t,e){return j(t).thenReject(e)},j.nearer=$,j.isPromise=A,j.isPromiseAlike=E,j.isPending=R,L.prototype.isPending=function(){return"pending"===this.inspect().state},j.isFulfilled=F,L.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},j.isRejected=U,L.prototype.isRejected=function(){return"rejected"===this.inspect().state};var B=[],Q=[],q=[],V=!0;function H(){B.length=0,Q.length=0,V||(V=!0)}function z(t,i){V&&("object"===typeof e&&"function"===typeof e.emit&&j.nextTick.runAfter((function(){-1!==d(Q,t)&&(e.emit("unhandledRejection",i,t),q.push(t))})),Q.push(t),i&&"undefined"!==typeof i.stack?B.push(i.stack):B.push("(no stack) "+i))}function G(t){if(V){var i=d(Q,t);-1!==i&&("object"===typeof e&&"function"===typeof e.emit&&j.nextTick.runAfter((function(){var n=d(q,t);-1!==n&&(e.emit("rejectionHandled",B[i],t),q.splice(n,1))})),Q.splice(i,1),B.splice(i,1))}}function W(t){var e=L({when:function(e){return e&&G(this),e?e(t):this}},(function(){return this}),(function(){return{state:"rejected",reason:t}}));return z(e,t),e}function J(t){return L({when:function(){return t},get:function(e){return t[e]},set:function(e,i){t[e]=i},delete:function(e){delete t[e]},post:function(e,i){return null===e||void 0===e?t.apply(void 0,i):t[e].apply(t,i)},apply:function(e,i){return t.apply(e,i)},keys:function(){return v(t)}},void 0,(function(){return{state:"fulfilled",value:t}}))}function Y(t){var e=T();return j.nextTick((function(){try{t.then(e.resolve,e.reject,e.notify)}catch(i){e.reject(i)}})),e.promise}function K(t){return L({isDef:function(){}},(function(e,i){return nt(t,e,i)}),(function(){return j(t).inspect()}))}function Z(t,e,i){return j(t).spread(e,i)}function X(t){return function(){function e(t,e){var s;if("undefined"===typeof StopIteration){try{s=i[t](e)}catch(o){return W(o)}return s.done?j(s.value):M(s.value,n,r)}try{s=i[t](e)}catch(o){return y(o)?j(o.value):W(o)}return M(s,n,r)}var i=t.apply(this,arguments),n=e.bind(e,"next"),r=e.bind(e,"throw");return n()}}function tt(t){j.done(j.async(t)())}function et(t){throw new a(t)}function it(t){return function(){return Z([this,rt(arguments)],(function(e,i){return t.apply(e,i)}))}}function nt(t,e,i){return j(t).dispatch(e,i)}function rt(t){return M(t,(function(t){var e=0,i=T();return l(t,(function(n,r,s){var o;A(r)&&"fulfilled"===(o=r.inspect()).state?t[s]=o.value:(++e,M(r,(function(n){t[s]=n,0===--e&&i.resolve(t)}),i.reject,(function(t){i.notify({index:s,value:t})})))}),void 0),0===e&&i.resolve(t),i.promise}))}function st(t){if(0===t.length)return j.resolve();var e=j.defer(),i=0;return l(t,(function(n,r,s){var o=t[s];function c(t){e.resolve(t)}function a(t){if(i--,0===i){var n=t||new Error(""+t);n.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+n.message,e.reject(n)}}function u(t){e.notify({index:s,value:t})}i++,M(o,c,a,u)}),void 0),e.promise}function ot(t){return M(t,(function(t){return t=h(t,j),M(rt(h(t,(function(t){return M(t,r,r)}))),(function(){return t}))}))}function ct(t){return j(t).allSettled()}function at(t,e){return j(t).then(void 0,void 0,e)}function ut(t,e){return j(t).nodeify(e)}j.resetUnhandledRejections=H,j.getUnhandledReasons=function(){return B.slice()},j.stopUnhandledRejectionTracking=function(){H(),V=!1},H(),j.reject=W,j.fulfill=J,j.master=K,j.spread=Z,L.prototype.spread=function(t,e){return this.all().then((function(e){return t.apply(void 0,e)}),e)},j.async=X,j.spawn=tt,j["return"]=et,j.promised=it,j.dispatch=nt,L.prototype.dispatch=function(t,e){var i=this,n=T();return j.nextTick((function(){i.promiseDispatch(n.resolve,t,e)})),n.promise},j.get=function(t,e){return j(t).dispatch("get",[e])},L.prototype.get=function(t){return this.dispatch("get",[t])},j.set=function(t,e,i){return j(t).dispatch("set",[e,i])},L.prototype.set=function(t,e){return this.dispatch("set",[t,e])},j.del=j["delete"]=function(t,e){return j(t).dispatch("delete",[e])},L.prototype.del=L.prototype["delete"]=function(t){return this.dispatch("delete",[t])},j.mapply=j.post=function(t,e,i){return j(t).dispatch("post",[e,i])},L.prototype.mapply=L.prototype.post=function(t,e){return this.dispatch("post",[t,e])},j.send=j.mcall=j.invoke=function(t,e){return j(t).dispatch("post",[e,u(arguments,2)])},L.prototype.send=L.prototype.mcall=L.prototype.invoke=function(t){return this.dispatch("post",[t,u(arguments,1)])},j.fapply=function(t,e){return j(t).dispatch("apply",[void 0,e])},L.prototype.fapply=function(t){return this.dispatch("apply",[void 0,t])},j["try"]=j.fcall=function(t){return j(t).dispatch("apply",[void 0,u(arguments,1)])},L.prototype.fcall=function(){return this.dispatch("apply",[void 0,u(arguments)])},j.fbind=function(t){var e=j(t),i=u(arguments,1);return function(){return e.dispatch("apply",[this,i.concat(u(arguments))])}},L.prototype.fbind=function(){var t=this,e=u(arguments);return function(){return t.dispatch("apply",[this,e.concat(u(arguments))])}},j.keys=function(t){return j(t).dispatch("keys",[])},L.prototype.keys=function(){return this.dispatch("keys",[])},j.all=rt,L.prototype.all=function(){return rt(this)},j.any=st,L.prototype.any=function(){return st(this)},j.allResolved=x(ot,"allResolved","allSettled"),L.prototype.allResolved=function(){return ot(this)},j.allSettled=ct,L.prototype.allSettled=function(){return this.then((function(t){return rt(h(t,(function(t){function e(){return t.inspect()}return t=j(t),t.then(e,e)})))}))},j.fail=j["catch"]=function(t,e){return j(t).then(void 0,e)},L.prototype.fail=L.prototype["catch"]=function(t){return this.then(void 0,t)},j.progress=at,L.prototype.progress=function(t){return this.then(void 0,void 0,t)},j.fin=j["finally"]=function(t,e){return j(t)["finally"](e)},L.prototype.fin=L.prototype["finally"]=function(t){if(!t||"function"!==typeof t.apply)throw new Error("Q can't apply finally callback");return t=j(t),this.then((function(e){return t.fcall().then((function(){return e}))}),(function(e){return t.fcall().then((function(){throw e}))}))},j.done=function(t,e,i,n){return j(t).done(e,i,n)},L.prototype.done=function(t,i,n){var r=function(t){j.nextTick((function(){if(P(t,s),!j.onerror)throw t;j.onerror(t)}))},s=t||i||n?this.then(t,i,n):this;"object"===typeof e&&e&&e.domain&&(r=e.domain.bind(r)),s.then(void 0,r)},j.timeout=function(t,e,i){return j(t).timeout(e,i)},L.prototype.timeout=function(t,e){var i=T(),n=setTimeout((function(){e&&"string"!==typeof e||(e=new Error(e||"Timed out after "+t+" ms"),e.code="ETIMEDOUT"),i.reject(e)}),t);return this.then((function(t){clearTimeout(n),i.resolve(t)}),(function(t){clearTimeout(n),i.reject(t)}),i.notify),i.promise},j.delay=function(t,e){return void 0===e&&(e=t,t=void 0),j(t).delay(e)},L.prototype.delay=function(t){return this.then((function(e){var i=T();return setTimeout((function(){i.resolve(e)}),t),i.promise}))},j.nfapply=function(t,e){return j(t).nfapply(e)},L.prototype.nfapply=function(t){var e=T(),i=u(t);return i.push(e.makeNodeResolver()),this.fapply(i).fail(e.reject),e.promise},j.nfcall=function(t){var e=u(arguments,1);return j(t).nfapply(e)},L.prototype.nfcall=function(){var t=u(arguments),e=T();return t.push(e.makeNodeResolver()),this.fapply(t).fail(e.reject),e.promise},j.nfbind=j.denodeify=function(t){if(void 0===t)throw new Error("Q can't wrap an undefined function");var e=u(arguments,1);return function(){var i=e.concat(u(arguments)),n=T();return i.push(n.makeNodeResolver()),j(t).fapply(i).fail(n.reject),n.promise}},L.prototype.nfbind=L.prototype.denodeify=function(){var t=u(arguments);return t.unshift(this),j.denodeify.apply(void 0,t)},j.nbind=function(t,e){var i=u(arguments,2);return function(){var n=i.concat(u(arguments)),r=T();function s(){return t.apply(e,arguments)}return n.push(r.makeNodeResolver()),j(s).fapply(n).fail(r.reject),r.promise}},L.prototype.nbind=function(){var t=u(arguments,0);return t.unshift(this),j.nbind.apply(void 0,t)},j.nmapply=j.npost=function(t,e,i){return j(t).npost(e,i)},L.prototype.nmapply=L.prototype.npost=function(t,e){var i=u(e||[]),n=T();return i.push(n.makeNodeResolver()),this.dispatch("post",[t,i]).fail(n.reject),n.promise},j.nsend=j.nmcall=j.ninvoke=function(t,e){var i=u(arguments,2),n=T();return i.push(n.makeNodeResolver()),j(t).dispatch("post",[e,i]).fail(n.reject),n.promise},L.prototype.nsend=L.prototype.nmcall=L.prototype.ninvoke=function(t){var e=u(arguments,1),i=T();return e.push(i.makeNodeResolver()),this.dispatch("post",[t,e]).fail(i.reject),i.promise},j.nodeify=ut,L.prototype.nodeify=function(t){if(!t)return this;this.then((function(e){j.nextTick((function(){t(null,e)}))}),(function(e){j.nextTick((function(){t(e)}))}))},j.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var lt=S();return j}))}).call(this,i("4c39"))},"5a70":function(t,e,i){"use strict";var n=i("328b"),r=i.n(n);r.a},6404:function(t,e,i){"use strict";var n=i("a45e"),r=i.n(n);r.a},"682c":function(t,e,i){},"691f":function(t,e,i){},"694f":function(t,e,i){"use strict";var n=i("dcba"),r=i.n(n);r.a},"7a17":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"activity-container"},[i("div",{staticClass:"header"},[t._v(t._s(t.$t("activity")))]),t._l(t.loopImgsData,(function(e){return i("div",{key:e.index,staticClass:"banner-wrap",on:{click:function(i){return t.imgJump(e)}}},[i("img",{ref:"img",refInFor:!0,attrs:{src:e.imgUrl,alt:""}})])}))],2)},r=[],s=i("c97b"),o=i.n(s),c=i("ae8c");function a(t,e,i,n,r,s,o){try{var c=t[s](o),a=c.value}catch(u){return void i(u)}c.done?e(a):Promise.resolve(a).then(n,r)}function u(t){return function(){var e=this,i=arguments;return new Promise((function(n,r){var s=t.apply(e,i);function o(t){a(s,n,r,o,c,"next",t)}function c(t){a(s,n,r,o,c,"throw",t)}o(void 0)}))}}function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function d(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach((function(e){h(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function h(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var f={name:"activity-container",data:function(){return{loopImgsData:[]}},mounted:function(){this.getBannerListFn()},methods:d(d({},Object(c["b"])("home",["getBannerList"])),{},{getBannerListFn:function(){var t=u(o.a.mark((function t(){var e;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getBannerList();case 2:e=t.sent,this.loopImgsData=e.data;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),imgJump:function(t){if(t.jumpUrl)if(t.jumpUrl.indexOf("https")>-1||t.jumpUrl.indexOf("http")>-1){var e=t.jumpUrl,i=e.lastIndexOf("/"),n=e.substring(i+1),r=localStorage.getItem("locale")||"zh_CN";window.location.href="futuresFinancing"===n?"".concat(e,"?device=h5&locale=").concat(r).concat(localStorage.getItem("token")?"&token="+localStorage.getItem("token"):""):t.jumpUrl}else this.$router.push(t.jumpUrl)}})},p=f,m=(i("bfda"),i("4023")),v=Object(m["a"])(p,n,r,!1,null,"02cb0a12",null);e["default"]=v.exports},"7d31":function(t,e,i){"use strict";var n=i("2b5f"),r=i.n(n);r.a},"8c05":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"futures-trading"},[i("contractHeader",{ref:"step1",attrs:{id:"step1"},on:{changeCountType:t.changeCountType}}),i("div",{staticClass:"details"},[i("div",{staticClass:"account-equity"},[i("div",{staticClass:"left"},[i("div",[i("span",{staticClass:"label"},[t._v(t._s(t.accountItem.coin||"--")+t._s(t.$t("WalletBalance")))]),i("span",{staticClass:"val"},[t._v(t._s(t._f("toFix6")(t.accountItem.accountEquity||"--")))])]),i("div",[i("span",{staticClass:"label"},[t._v(t._s(t.$t("AvailableBalance")))]),i("span",{staticClass:"val"},[t._v(t._s(t._f("toFix6")(t.accountItem.availableMargin||"--")))])])]),i("div",{staticClass:"right"},[i("div",[i("span",{staticClass:"label"},[t._v(t._s(t.$t("TotalLeverageLevel")))]),i("span",{staticClass:"val"},[t._v(t._s(t._f("toFix6")(t.accountItem.totalLeverageLevel||"--"))+"x")])]),i("div",[i("span",{staticClass:"label"},[t._v(t._s(t.$t("UnrealizedPAndL")))]),i("span",{staticClass:"val"},[i("span",{class:{colorRed:Number(t.accountItem.floatProfitLoss)<0,colorGreen:Number(t.accountItem.floatProfitLoss)>0}},[t._v(t._s(t._f("toFix6")(t.accountItem.floatProfitLoss||"--")))])])])])]),i("div",{staticClass:"details-head flex-row"},[i("div",{staticClass:"buy-sell flex-row"},[i("van-button",{staticClass:"buy",class:[t.buyOrSellStatus?"":"select-buy",t.buyOrSellStatus?"":t.upDownColor?"sell-bg":"buy-bg"],on:{click:t.buy}},[t._v(t._s(t.$t("Buy")))]),i("van-button",{staticClass:"sell",class:[t.buyOrSellStatus?"select-buy":"",t.buyOrSellStatus?t.upDownColor?"buy-bg":"sell-bg":""],on:{click:t.sell}},[t._v(t._s(t.$t("Sell")))])],1),i("div",{staticClass:"totle flex-row"},[i("div",{staticClass:"totle-num",class:[t.upDownColor?Number(t.priceChangeRadio)>0?"colorRed":Number(t.priceChangeRadio)<0?"colorGreen":"colorBlank":Number(t.priceChangeRadio)>0?"colorGreen":Number(t.priceChangeRadio)<0?"colorRed":"colorBlank"]}),i("div",{staticClass:"totle-icon",on:{click:function(e){return t.$router.push("/quotes/details?id="+t.contractId)}}}),i("div",{staticClass:"totle-icon",class:[t.handicapIndex>1?"sell":t.handicapIndex<1?"buy-sell":"buy"],on:{click:t.changeHandicapIndex}})])]),i("div",{staticClass:"details-content flex-row"},[i("div",{ref:"step2",staticClass:"details-left"},[i("div",{staticClass:"order-select flex-row",attrs:{id:"step2"}},[i("cube-select",{staticClass:"select-top",attrs:{options:t.DelegateModeOptions},on:{change:t.DelegateModeChange},model:{value:t.DelegateMode,callback:function(e){t.DelegateMode=e},expression:"DelegateMode"}}),i("cube-select",{staticClass:"select-top",class:{leverWarn:t.leverIndex>7&&999999!==t.contractId},attrs:{title:t.$t("Leverage"),options:t.leverModeOptions},model:{value:t.leverMode,callback:function(e){t.leverMode=e},expression:"leverMode"}})],1),i("van-sticky",{directives:[{name:"show",rawName:"v-show",value:t.leverWarn,expression:"leverWarn"}],attrs:{container:t.leverBox}},[i("div",{staticClass:"leverBox",attrs:{type:"warning"}},[t._v(t._s(t.$t("Warning3")))])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.priceStatus,expression:"!priceStatus"}],staticClass:"prices flex-row",class:{condition:t.conditionOrEntrust}},[i("span",{staticClass:"minus",on:{click:function(e){return t.priceLChange(-1)}}},[i("span",{staticClass:"minus-icon"})]),i("span",{staticClass:"num"},[i("van-field",{attrs:{placeholder:t.$t("Price")+"("+t.priceSymbol+")",type:"number",maxlength:10,min:0},model:{value:t.priceL,callback:function(e){t.priceL=e},expression:"priceL"}})],1),i("span",{staticClass:"plus",on:{click:function(e){return t.priceLChange(1)}}},[i("span",{staticClass:"plus-icon"})])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.priceStatus,expression:"priceStatus"}],staticClass:"locked",class:{condition:t.conditionOrEntrust}},[t._v(t._s(t.$t("MarketPrice")))]),i("div",{staticClass:"valuation flex-row",class:{"valuation-condition":t.conditionOrEntrust}},[i("span",[t._v("\n            "+t._s(t.$t("Estimated"))+"："+t._s(t.exchangeCurrencySymbol)+t._s(t._f("toFix6")(t.valuation))+"\n          ")]),i("span",{staticClass:"opponent-price",on:{click:t.opponentPrice}},[t._v(t._s(t.$t("BBO")))])]),i("div",{staticClass:"count flex-row",class:{condition:t.conditionOrEntrust}},[i("span",{staticClass:"minus",on:{click:function(e){return t.countLChange(-1)}}},[i("span",{staticClass:"minus-icon"})]),i("span",{staticClass:"num"},[i("van-field",{attrs:{placeholder:t.countPlaceHolder,type:"number",maxlength:9,min:0},model:{value:t.countL,callback:function(e){t.countL=e},expression:"countL"}})],1),i("span",{staticClass:"plus",on:{click:function(e){return t.countLChange(1)}}},[i("span",{staticClass:"plus-icon"})])]),i("div",{directives:[{name:"show",rawName:"v-show",value:Number(t.cost)>Number(t.availableBalance),expression:"Number(cost)>Number(availableBalance)"}],staticClass:"cost-over"},[t._v("\n          "+t._s(t.$t("CostOver"))+"\n        ")]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.conditionOrEntrust,expression:"conditionOrEntrust"}],staticClass:"count flex-row",class:{condition:t.conditionOrEntrust}},[i("span",{staticClass:"minus",on:{click:function(e){return t.triggerPriceChange(-1)}}},[i("span",{staticClass:"minus-icon"})]),i("span",{staticClass:"num"},[i("van-field",{attrs:{placeholder:t.$t("TriggerPrice")+"("+t.priceSymbol+")",type:"number",maxlength:10,min:0},model:{value:t.triggerPrice,callback:function(e){t.triggerPrice=e},expression:"triggerPrice"}})],1),i("span",{staticClass:"plus",on:{click:function(e){return t.triggerPriceChange(1)}}},[i("span",{staticClass:"plus-icon"})])]),i("div",{staticClass:"maxPosition"},[i("span",{staticClass:"label"},[t._v("可用张数：")]),(t.buyOrSellStatus,i("span",{staticClass:"value"},[t._v(" "+t._s(t.availableOpen))]))]),i("div",{staticClass:"numPercent",class:{"percent-sell":t.buyOrSellStatus}},[i("van-slider",{on:{input:t.calcCount},scopedSlots:t._u([{key:"button",fn:function(){return[i("div",{staticClass:"custom-button"},[t._v("\n                "+t._s(t.percentValue)+"%\n              ")])]},proxy:!0}]),model:{value:t.percentValue,callback:function(e){t.percentValue=e},expression:"percentValue"}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.conditionOrEntrust,expression:"conditionOrEntrust"}],staticClass:"commission-value flex-row"},[i("span",{staticClass:"label"},[t._v("触发类型")]),i("span",{staticClass:"value trigger"},[i("cube-select",{attrs:{options:t.triggerOptions},model:{value:t.trigger,callback:function(e){t.trigger=e},expression:"trigger"}})],1)]),i("div",{staticClass:"commission-value flex-row"},[i("span",{staticClass:"label"},[t._v(t._s(t.$t("OrderValue")))]),i("span",{staticClass:"value"},[t._v(t._s(t._f("toFix6")(t.commissionValue))+t._s(t.availableCurrencyName))])]),i("div",{staticClass:"available flex-row"},[i("span",{staticClass:"label"},[t._v("委托保证金")]),i("span",{staticClass:"value",class:{warning:Number(t.cost)>Number(t.availableBalance)&&Number(t.availableBalance)>0}},[t._v(t._s(t._f("toFix6")(t.cost))+t._s(t.availableCurrencyName))])]),i("div",{staticClass:"available flex-row"},[i("span",{staticClass:"label"},[t._v(t._s(t.$t("AvailableBalance")))]),i("span",{staticClass:"value"},[t._v(t._s(t._f("toFix6")(t.availableBalance))+t._s(t.availableCurrencyName))])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.DelegateModeIndex>1,expression:"DelegateModeIndex>1"}],staticClass:"available flex-row"},[i("span",{staticClass:"label"},[t._v(t._s(t.$t("TriggerClosePosition")))]),i("span",{staticClass:"value"},[i("van-checkbox",{attrs:{shape:"square"},model:{value:t.TriggerClosePosition,callback:function(e){t.TriggerClosePosition=e},expression:"TriggerClosePosition"}})],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.guest,expression:"guest"}],staticClass:"btn guest",on:{click:function(e){return t.$router.push("/login")}}},[t._v(t._s(t.$t("Login")))]),i("van-button",{directives:[{name:"show",rawName:"v-show",value:!t.guest,expression:"!guest"}],staticClass:"btn flex-column",class:[t.upDownColor?t.buyOrSellStatus?"bg-green":"bg-red":t.buyOrSellStatus?"bg-red":"bg-green",Number(t.cost)>Number(t.availableBalance)&&Number(t.availableBalance)>0?"btn-over":"",t.conditionOrEntrust?"btn-condition":""],on:{click:t.orderNoticeCalc}},[i("span",[t._v(t._s(t.buyOrSell))]),i("span",{directives:[{name:"show",rawName:"v-show",value:0===t.priceStatus&&t.countL&&t.priceL||1===t.priceStatus&&t.countL,expression:"priceStatus === 0 && countL && priceL || priceStatus === 1 && countL"}]},[t._v(t._s(t.quantity)+"@"+t._s(t.priceL))]),i("span",{directives:[{name:"show",rawName:"v-show",value:t.conditionOrEntrust&&t.triggerPrice,expression:"conditionOrEntrust && triggerPrice"}]},[t._v(t._s(t.triggerText)+t._s(t.triggerSymbol)+t._s(t.triggerPrice))])]),i("div",{staticClass:"margin-charge flex-row",class:{"margin-charge-over":Number(t.cost)>Number(t.availableBalance)&&Number(t.availableBalance)>0,"margin-charge-condition":t.conditionOrEntrust}},[i("router-link",{attrs:{to:{name:"assets-transfer",params:{currencyId:this.currencyId,type:1}}}},[i("span",{staticClass:"in"},[i("i"),t._v(t._s(t.$t("TransferMargin")))])]),i("router-link",{attrs:{to:{name:"assets-transfer",params:{currencyId:this.currencyId,type:2}}}},[i("span",{staticClass:"out"},[i("i"),t._v(t._s(t.$t("TransferDeposit")))])])],1)],1),i("contractBidAsk",{ref:"contractBidAsk",attrs:{handicapIndex:t.handicapIndex},on:{changeHandicap:t.changeHandicapIndex,resetPriceL:t.resetPriceL,resetCountL:t.resetCountL}})],1)]),i("div",{staticClass:"divider"}),i("div",{ref:"step3",staticClass:"list-content",attrs:{id:"step3"}},[i("van-tabs",{attrs:{swipeable:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[i("van-tab",{attrs:{title:t.$t("HoldingPosition")}},[i("futureList")],1),i("van-tab",{attrs:{title:t.$t("CurrentOrder")}},[1===t.active?i("entrustList"):t._e()],1),i("van-tab",{attrs:{title:t.$t("HistoryDeal")}},[2===t.active?i("historyDeal"):t._e()],1)],1),i("span",{staticClass:"entrust-ico",on:{click:t.goEntrustHistory}},[i("van-icon",{attrs:{name:"todo-list-o"}})],1)],1),2===t.strongStatus?i("van-dialog",{attrs:{"before-close":t.closeDialog,confirmButtonText:t.$t("TransferInMargin"),title:t.$t("Prompt")},on:{confirm:function(e){return t.$router.push("/assets/transfer")}},model:{value:t.strongFlag,callback:function(e){t.strongFlag=e},expression:"strongFlag"}},[i("div",{staticClass:"notice-msg"},[t._v(t._s(t.$t("FullPositionMgmt")))])]):t._e(),1===t.strongStatus?i("van-dialog",{attrs:{"before-close":t.closeDialog,confirmButtonText:t.$t("TransferInMargin"),title:t.$t("Prompt")},on:{confirm:function(e){return t.setTrasfDialogTrue(!0)}},model:{value:t.strongFlag,callback:function(e){t.strongFlag=e},expression:"strongFlag"}},[i("div",{staticClass:"notice-msg"},[t._v("\n      "+t._s(t.$t("Your"))+"\n      "),i("span",{staticClass:"symbol"},[t._v(t._s(t.futureName))]),t._v("\n      "+t._s(t.$t("ReductionMechanism"))+"\n    ")])]):t._e(),i("modifyMargin",{attrs:{contractId:t.contractId}}),i("noticeTem"),i("missionFailed",{ref:"missionFailed"}),t.showGuide?i("guide",{on:{setStep:t.setStep,closeGuide:t.closeGuide}}):t._e()],1)},r=[],s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list-temp"},[i("div",{staticClass:"check flex-row"},[t.lightning?i("div",{staticClass:"lightning-transaction"},[t._v(t._s(t.$t("HoldingPosition")))]):t._e(),i("van-checkbox",{model:{value:t.hideOtherHolding,callback:function(e){t.hideOtherHolding=e},expression:"hideOtherHolding"}},[t._v(t._s(t.$t("Hide")))])],1),i("div",{staticClass:"list-box"},t._l(t.a,(function(e){return i("div",{key:e.id,staticClass:"list"},[i("div",{staticClass:"list-title flex-row"},[i("div",{staticClass:"name",on:{click:function(i){return i.stopPropagation(),t.toContractInfo(e)}}},[t._v("\n          "+t._s(e.symbol)+"\n          "),i("span",{staticClass:"flag",class:[t.upDownColor?Number(e.posiQty)>0?"colorRed flag-border-red":Number(e.posiQty)<0?"colorGreen flag-border-green":"":Number(e.posiQty)>0?"colorGreen flag-border-green":Number(e.posiQty)<0?"colorRed flag-border-red":""]},[t._v(t._s(Number(e.posiQty)>0?t.$t("Long"):t.$t("Short")))]),i("span",{directives:[{name:"show",rawName:"v-show",value:999999===e.contractId,expression:"item.contractId === 999999"}],staticClass:"Simulation"},[t._v(t._s(t.$t("Simulation")))]),i("span",{staticClass:"returnRate"},[i("span",{staticClass:"returnRate-value",class:[t.upDownColor?Number(e.returnRate)>0?"colorRed":Number(e.returnRate)<0?"colorGreen":"":Number(e.returnRate)>0?"colorGreen":Number(e.returnRate)<0?"colorRed":""]},[t._v(t._s(Number(e.returnRate)>0?"+":"")+t._s(e.returnRate)+"%")]),t._v("\n            ("+t._s(t.$t("returnRate"))+")\n          ")])]),i("div",{staticClass:"full",on:{click:function(i){return i.stopPropagation(),t.showPicker(e)}}},[t._v(t._s(0===Number(e.posiMode)?t.$t("AllPosition"):Math.ceil(e.posiMode)+"x"))])]),i("div",{staticClass:"data",on:{click:function(i){return i.stopPropagation(),t.toContractInfo(e)}}},[i("div",{staticClass:"flex-row top"},[i("div",{staticClass:"l"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("Position")))]),i("div",{staticClass:"number",class:[t.upDownColor?Number(e.posiQty)>0?"colorRed":Number(e.posiQty)<0?"colorGreen":"":Number(e.posiQty)>0?"colorGreen":Number(e.posiQty)<0?"colorRed":""]},[t._v(t._s(t._f("toFix6")(e.posiQty||0))+" ("+t._s(t.calcHoldCost(e))+t._s(t.getCurrencySymbol(e.contractId))+")")])]),i("div",{staticClass:"m"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("OpenPositions")))]),i("div",{staticClass:"number"},[t._v(t._s(t._f("toFix6")(e.fairQty||0)))])]),i("div",{staticClass:"r margin",on:{click:function(i){return i.stopPropagation(),t.ajustMargin(e)}}},[i("div",{staticClass:"title"},[t._v("\n              "+t._s(t.$t("curMargin"))+"\n              "),i("span",{directives:[{name:"show",rawName:"v-show",value:2===e.marginType,expression:"item.marginType===2"}],staticClass:"edit"})]),i("div",{staticClass:"number"},[t._v(t._s(t._f("toFix6")(e.curMargin))+" "+t._s(t.priceSymbol(e.contractId)))])])]),i("div",{staticClass:"flex-row bottom"},[i("div",{staticClass:"l"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("OpenPrice")))]),i("div",{staticClass:"number"},[t._v(t._s(t.getFloatByPriceTick(e.openPrice,e.contractId)||0))])]),i("div",{staticClass:"m"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("LiquidationPrice")))]),i("div",{staticClass:"number"},[t._v("\n              "+t._s(Number(t.getFloatByPriceTick(e.strongPrice,e.contractId))>0?t.getFloatByPriceTick(e.strongPrice,e.contractId):0)+"\n            ")])]),i("div",{staticClass:"r"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("UnrealizedPAndL")))]),i("div",{staticClass:"number",class:[t.upDownColor?Number(e.unrealizedProfitLoss)>0?"colorRed":Number(e.unrealizedProfitLoss)<0?"colorGreen":"":Number(e.unrealizedProfitLoss)>0?"colorGreen":Number(e.unrealizedProfitLoss)<0?"colorRed":""]},[t._v(t._s(t._f("toFix6")(e.unrealizedProfitLoss||0))+" "+t._s(t.priceSymbol(e.contractId)))])])])]),i("div",{staticClass:"btn"},[i("van-button",{staticClass:"stopLossStopProfit",on:{click:function(i){return i.stopPropagation(),t.showStopPLPopup(e)}}},[t._v(t._s(t.$t("StopLossStopProfit")))]),i("van-button",{staticClass:"liquidate",on:{click:function(i){return i.stopPropagation(),t.closePosi(e)}}},[t._v(t._s(t.$t("Liquidation")))]),i("van-button",{staticClass:"market-value",attrs:{plain:""},on:{click:function(i){return i.stopPropagation(),t.MarketPriceDialogShow(e)}}},[t._v(t._s(t.$t("MarketPriceClose")))]),i("div",{staticClass:"sharePosi",on:{click:function(i){return t.sharePosi(e)}}},[i("div",{staticClass:"sharePosi-icon"})])],1)])})),0),i("noData",{directives:[{name:"show",rawName:"v-show",value:0===t.a.length,expression:"a.length === 0"}],attrs:{status:t.noDataStatus}}),i("van-popup",{attrs:{position:"bottom"},model:{value:t.isShare,callback:function(e){t.isShare=e},expression:"isShare"}},[t.isShare?i("PosiShare",{attrs:{item:t.item},on:{closeFooter:t.closeFooter}}):t._e()],1),i("van-popup",{staticClass:"future-list-popup",attrs:{position:"bottom"},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("Liquidation"))+" "),i("span",{staticClass:"close-icon",on:{click:t.doCancel}},[t._v("×")])]),t.showDialog?i("div",{staticClass:"dialog-form"},[i("div",{staticClass:"form-content"},[i("div",{staticClass:"form-content-select"},[i("div",{staticClass:"select-box"},[i("van-radio-group",{staticClass:"flex-row radio",model:{value:t.selectMode,callback:function(e){t.selectMode=e},expression:"selectMode"}},t._l(t.selectModeOptions,(function(e){return i("van-radio",{key:e.id,class:{"yellow-border":t.selectMode===e},attrs:{name:e}},[t._v(t._s(e))])})),1)],1)]),i("div",{staticClass:"form-content-price"},[i("div",{staticClass:"form-item"},[i("div",{staticClass:"input-field"},[i("van-field",{directives:[{name:"show",rawName:"v-show",value:1===t.orderType,expression:"orderType === 1"}],staticClass:"account-input-text",attrs:{placeholder:""+t.$t("Price")+t.symbolOfPrice,type:"number",maxlength:10},model:{value:t.commissionPrice,callback:function(e){t.commissionPrice=e},expression:"commissionPrice"}}),i("div",{directives:[{name:"show",rawName:"v-show",value:3===t.orderType,expression:"orderType === 3"}],staticClass:"market-price"},[t._v(t._s(t.$t("MarketPrice")))])],1)]),i("dir",{staticClass:"acount-nitoce"},[t._v(t._s(t.$t("CurrentPrice"))+"："+t._s(t.getFloatByPriceTick(t.lastPrice,this.indexItem.contractId)))])],1),i("div",{staticClass:"form-content-count"},[i("div",{staticClass:"form-item"},[i("div",{staticClass:"input-field"},[i("van-field",{staticClass:"account-input-text",attrs:{placeholder:t.$t("Quantity")+"("+t.$t("Cont")+")",type:"number",maxlength:10},model:{value:t.authorizedQuantity,callback:function(e){t.authorizedQuantity=e},expression:"authorizedQuantity"}})],1)]),i("dir",{staticClass:"acount-nitoce"},[t._v(t._s(t.$t("FairQuantity"))+"："+t._s(Math.abs(t.indexItem.fairQty)))])],1)]),i("div",{staticClass:"block flex-row"},t._l(4,(function(e,n){return i("div",{key:n,staticClass:"btn",class:{"no-border":3===n,"btn-active":t.btnActive===n},attrs:{mini:"",type:"default"},on:{click:function(e){return t.setQty(n)}}},[t._v(t._s(25*(n+1)+"%"))])})),0),i("div",{staticClass:"income"},[i("p",[t._v(t._s(t.$t("closeNotice",{price:t.imcomePrice,count:""===t.authorizedQuantity?0:t.authorizedQuantity,symbol:t.contractSymbol})))]),i("p",[i("span",{class:[t.upDownColor?Number(t.income)>0?"colorRed":"colorGreen":Number(t.income)>=0?"colorGreen":"colorRed"]},[t._v(t._s(t._f("toFix6")(t.income))+t._s(t.priceSymbol(t.indexItem.contractId)))])])])]):t._e(),i("div",{staticClass:"confirm-btn",on:{click:t.doConfirm}},[t._v("确认")])]),i("van-popup",{staticClass:"future-list-popup",attrs:{position:"bottom"},model:{value:t.marketPriceDialog,callback:function(e){t.marketPriceDialog=e},expression:"marketPriceDialog"}},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("MarketPriceClose"))+" "),i("span",{staticClass:"close-icon",on:{click:t.MarketCancel}},[t._v("×")])]),t.marketPriceDialog?i("div",{staticClass:"incomeMarket content"},[i("p",[t._v(t._s(t.$t("closeNotice",{price:t.imcomePrice,count:""===t.authorizedQuantity?0:t.authorizedQuantity,symbol:t.contractSymbol})))]),i("p",[t._v("预计收益：\n        "),i("span",{class:[t.upDownColor?Number(t.income)>0?"colorRed":"colorGreen":Number(t.income)>=0?"colorGreen":"colorRed"]},[t._v(t._s(t._f("toFix6")(t.income))+t._s(t.priceSymbol(t.indexItem.contractId)))])])]):t._e(),i("div",{staticClass:"confirm-btn",on:{click:t.MarketPriceClosing}},[t._v("确认")])]),i("stop-loss-stop-profit-popup",{ref:"stopLossStopProfitPopup",attrs:{item:t.indexItem}}),i("modifyMargin",{attrs:{contractId:t.itemContractId}})],1)},o=[],c=i("ae8c"),a=i("ff51"),u=i("7746"),l=i("1700"),d=i("9e1a"),h=i("68f1"),f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"stopLoss-stopProfit"},[i("van-popup",{attrs:{position:"bottom"},on:{open:t.openPopup},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[i("div",{staticClass:"title"},[t._v("设置止盈止损 "),i("span",{staticClass:"close-icon",on:{click:t.closePopup}},[t._v("×")])]),i("div",{staticClass:"stop-profit stop-box"},[i("div",{staticClass:"item check"},[i("van-checkbox",{attrs:{shape:"square","checked-color":"#FDAF1A","icon-size":"26px"},on:{change:t.changeCheckProfit},model:{value:t.checkedStopP,callback:function(e){t.checkedStopP=e},expression:"checkedStopP"}},[t._v("止盈")])],1),i("div",{staticClass:"item price"},[i("van-field",{attrs:{type:"number",disabled:!t.checkedStopP,"label-width":"70",label:"标记价格"},model:{value:t.priceProfit,callback:function(e){t.priceProfit=e},expression:"priceProfit"}}),i("van-button",{attrs:{type:"default",disabled:!t.checkedStopP},on:{click:function(e){return t.calculate("Profit",1)}}},[t._v("+")]),i("van-button",{attrs:{type:"default",disabled:!t.checkedStopP},on:{click:function(e){return t.calculate("Profit",2)}}},[t._v("-")])],1)]),i("div",{staticClass:"stop-loss stop-box"},[i("div",{staticClass:"item check"},[i("van-checkbox",{attrs:{shape:"square","checked-color":"#FDAF1A","icon-size":"26px"},on:{change:t.changeCheckLoss},model:{value:t.checkedStopL,callback:function(e){t.checkedStopL=e},expression:"checkedStopL"}},[t._v("止损")])],1),i("div",{staticClass:"item price"},[i("van-field",{attrs:{type:"number",min:0,disabled:!t.checkedStopL,"label-width":"70",label:"标记价格"},model:{value:t.priceLoss,callback:function(e){t.priceLoss=e},expression:"priceLoss"}}),i("van-button",{attrs:{type:"default",disabled:!t.checkedStopL},on:{click:function(e){return t.calculate("Loss",1)}}},[t._v("+")]),i("van-button",{attrs:{type:"default",disabled:!t.checkedStopL},on:{click:function(e){return t.calculate("Loss",2)}}},[t._v("-")])],1)]),t.cfloading?t._e():i("div",{staticClass:"confirm-btn",on:{click:function(e){return t.confirm(t.item)}}},[t._v("确认")]),t.cfloading?i("van-loading",{staticClass:"confirm-btn",attrs:{type:"spinner"}},[t._v("提交中...")]):t._e()],1)],1)},p=[],m=i("c97b"),v=i.n(m);function g(t,e,i,n,r,s,o){try{var c=t[s](o),a=c.value}catch(u){return void i(u)}c.done?e(a):Promise.resolve(a).then(n,r)}function b(t){return function(){var e=this,i=arguments;return new Promise((function(n,r){var s=t.apply(e,i);function o(t){g(s,n,r,o,c,"next",t)}function c(t){g(s,n,r,o,c,"throw",t)}o(void 0)}))}}function y(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function O(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?y(Object(i),!0).forEach((function(e){P(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):y(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function P(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var I=i("8a8d"),C={props:{item:{type:Object}},data:function(){return{isShow:!1,cfloading:!1,checkedStopP:!1,checkedStopL:!1,priceProfit:0,priceLoss:0,activeProfit:0,percentListProfit:[25,50,75,100],activeLoss:0,percentListLoss:[10,20,30,40],obj:{}}},computed:O(O({},Object(c["e"])({headerList:function(t){var e=t.futures;return e.headerList},currentDelegation:function(t){var e=t.futures;return e.currentDelegation}})),{},{gearingxie:function(){var t=Number(this.item.posiMode);return t||0},stopProfitProfit:function(){if(this.item&&this.priceProfit){var t=new I(Number(this.item.quantity)).times(Number(this.item.posiQty)).times(new I(Number(this.priceProfit)).sub(Number(this.item.openPrice))).times(Number(this.item.contractUnit));return console.log((Math.floor(100*t)/100).toFixed(10)),Number(this.item.quantity)>0?(Math.floor(100*t)/100).toFixed(10):-(Math.floor(100*t)/100).toFixed(10)}},stopLossProfit:function(){if(this.item&&this.priceLoss){var t=new I(Number(this.item.quantity)).times(Number(this.item.posiQty)).times(new I(Number(this.priceLoss)).sub(Number(this.item.openPrice))).times(Number(this.item.contractUnit));return Number(this.item.quantity)>0?(Math.floor(100*t)/100).toFixed(10):-(Math.floor(100*t)/100).toFixed(10)}},orderList:function(){return this.currentDelegation&&this.currentDelegation.length?this.currentDelegation.filter((function(t){return t.orderSubType>1})):[]},placeSide:function(){return this.item.side>0?-1:1},priceTick:function(){var t=this,e=1;return e=this.headerList.find((function(e){return e.contractId===t.item.contractId})).priceTick,Number(e)}}),created:function(){},mounted:function(){var t=b(v.a.mark((function t(){return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$nextTick();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),watch:{checkedStopP:function(t){t&&this.obj.stopProfitId?this.priceProfit=Number(this.obj.stopProfitPrice):this.priceProfit=0},checkedStopL:function(t){t&&this.obj.stopLossId?this.priceLoss=Number(this.obj.stopLossPrice):this.priceLoss=0},priceProfit:function(t,e){var i=Number(t),n=Number(e);this.checkedStopP?i.length>10||"number"!==typeof i||i<0?this.priceProfit=n:i&&this.priceTick&&"number"===typeof i&&i>=0&&(this.priceProfit=Number.isInteger(Number(new I(i).div(this.priceTick)))?i:Number(new I(Math.floor(new I(i).div(this.priceTick))).times(this.priceTick))):this.priceProfit=0},priceLoss:function(t,e){var i=Number(t),n=Number(e);this.checkedStopL?i.length>10||"number"!==typeof i||i<0?this.priceLoss=n:i&&this.priceTick&&"number"===typeof i&&i>=0&&(this.priceLoss=Number.isInteger(Number(new I(i).div(this.priceTick)))?i:Number(new I(Math.floor(new I(i).div(this.priceTick))).times(this.priceTick))):this.priceLoss=0}},methods:O(O(O({},Object(c["b"])("futures",["cancelOrder","placeOrder","queryActiveOrder","cancelAllOrder","setContractId","pullData"])),Object(c["d"])("futures",["SETCURRENTDELEGATION"])),{},{openPopup:function(){var t=b(v.a.mark((function t(){return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.checkedStopP=!1,this.checkedStopL=!1,console.log("this.item",this.item);case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),closePopup:function(){this.isShow=!1},changeCheckProfit:function(t){this.priceProfit=!0===t?this.item.openPrice:0},changeCheckLoss:function(t){this.priceLoss=!0===t?this.item.openPrice:0},calculate:function(t,e){Number(this["price".concat(t)]<0)?this["price".concat(t)]=0:(1===e&&(this["price".concat(t)]=Number(new I(this["price".concat(t)]).plus(this.priceTick).valueOf())),2===e&&Number(this["price".concat(t)])>=this.priceTick&&(this["price".concat(t)]=Number(new I(this["price".concat(t)]).minus(this.priceTick).valueOf()),Number(this["price".concat(t)])<0&&(this["price".concat(t)]=0)))},changeTabs:function(t,e){console.log(this["percentList".concat(e)][t]);var i=this["percentList".concat(e)][t]/100,n=0===this.gearingxie?100:this.gearingxie;"Profit"===e?this.priceProfit=Number(new I(Number(this.item.openPrice)).plus(new I(i).times(Number(this.item.openPrice)).div(new I(Number(this.item.posiQty)).times(n)))):this.priceLoss=Number(new I(Number(this.item.openPrice)).sub(new I(i).times(Number(this.item.openPrice)).div(new I(Number(this.item.posiQty)).times(n))))},takeProfit:function(t){if(this.orderList.length){if(t.side>0){var e=this.orderList.filter((function(e){return e.side<0&&2===e.positionEffect&&Number(e.stopPrice)>Number(t.openPrice)&&e.contractId===t.contractId})).sort((function(t,e){return Number(t.stopPrice)-Number(e.stopPrice)}));return this.obj.stopProfitId=e.length?e[0].orderId:"",this.obj.stopProfitPrice=e.length?e[0].stopPrice:"",this.obj.profitStopType=e.length?e[0].orderSubType:"",this.obj.profitPriceType=e.length?e[0].orderType:"",e.length?e[0].stopPrice:"-"}var i=this.orderList.filter((function(e){return e.side>0&&2===e.positionEffect&&Number(e.stopPrice)<Number(t.openPrice)&&e.contractId===t.contractId}));return console.log(i),this.obj.stopProfitId=i.length?i[0].orderId:"",this.obj.stopProfitPrice=i.length?i[0].stopPrice:"",this.obj.profitStopType=i.length?i[0].orderSubType:"",this.obj.profitPriceType=i.length?i[0].orderType:"",i.length?i[0].stopPrice:"-"}},stopLoss:function(t){if(this.orderList.length){if(t.side>0){var e=this.orderList.filter((function(e){return e.side<0&&2===e.positionEffect&&Number(e.stopPrice)<Number(t.openPrice)&&e.contractId===t.contractId})).sort((function(t,e){return Number(e.stopPrice)-Number(t.stopPrice)}));return this.obj.stopLossId=e.length?e[0].orderId:"",this.obj.stopLossPrice=e.length?e[0].stopPrice:"",this.obj.lossStopType=e.length?e[0].orderSubType:"",this.obj.lossPriceType=e.length?e[0].orderType:"",e.length?e[0].stopPrice:"-"}var i=this.orderList.filter((function(e){return e.side>0&&2===e.positionEffect&&Number(e.stopPrice)>Number(t.openPrice)&&e.contractId===t.contractId})).sort((function(t,e){return Number(t.stopPrice)-Number(e.stopPrice)}));return this.obj.stopLossId=i.length?i[0].orderId:"",this.obj.stopLossPrice=i.length?i[0].stopPrice:"",this.obj.lossStopType=i.length?i[0].orderSubType:"",this.obj.lossPriceType=i.length?i[0].orderType:"",i.length?i[0].stopPrice:"-"}},setStopPL:function(){this.takeProfit(this.item),this.stopLoss(this.item)},_postOrder:function(t,e,i,n){var r=this;if(!t)return!1;var s={contractId:this.item.contractId,side:this.placeSide,orderType:n,price:1===n?t:0,quantity:999999,positionEffect:2,marginType:1,marginRate:0,orderSubType:i,stopPrice:t};this.placeOrder({params:s,headers:{unique:Object(a["j"])()}}).then((function(t){var e=t;0===e.code&&(r.$toast("下单成功"),r.queryActiveOrder(),r.closePopup(),r.cfloading=!1)}))},confirm:function(){var t=b(v.a.mark((function t(e){var i,n,r,s=this;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.checkedStopP||this.checkedStopL){t.next=2;break}return t.abrupt("return");case 2:return this.cfloading=!0,this.obj={},t.next=6,this.queryActiveOrder();case 6:i=t.sent,this.SETCURRENTDELEGATION(i.data||[]),this.setStopPL(),this.checkedStopP&&(console.log("止盈"),n={contractId:e.contractId,originalOrderId:this.obj.stopProfitId},this.obj.stopProfitId&&Number(this.priceProfit)?this.cancelOrder({params:n,headers:{unique:Object(a["j"])()}}).then((function(t){0===t.code&&(setTimeout((function(){s.pullData()}),1500),s._postOrder(s.priceProfit,s.obj.profitMsg,s.obj.profitStopType||"4",s.obj.profitPriceType||3))})):Number(this.priceProfit)&&this._postOrder(this.priceProfit,this.obj.profitMsg,this.obj.profitStopType||"4",this.obj.profitPriceType||3)),this.checkedStopL&&(console.log("止损"),r={contractId:e.contractId,originalOrderId:this.obj.stopLossId},this.obj.stopLossId&&Number(this.priceLoss)?this.cancelOrder({params:r,headers:{unique:Object(a["j"])()}}).then((function(t){0===t.code&&(setTimeout((function(){s.pullData()}),1500),s._postOrder(s.priceLoss,s.obj.lossMsg,s.obj.lossStopType||"4",s.obj.lossPriceType||3))})):Number(this.priceLoss)&&this._postOrder(this.priceLoss,this.obj.lossMsg,this.obj.lossStopType||"4",this.obj.lossPriceType||3));case 11:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()})},w=C,_=(i("18b2"),i("2b74"),i("4023")),S=Object(_["a"])(w,f,p,!1,null,"64cf94cb",null),x=S.exports;function j(t){return D(t)||N(t)||T(t)||k()}function k(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function T(t,e){if(t){if("string"===typeof t)return L(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?L(t,e):void 0}}function N(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function D(t){if(Array.isArray(t))return L(t)}function L(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function M(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function $(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?M(Object(i),!0).forEach((function(e){A(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):M(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function A(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var E=i("8a8d"),R={components:{modifyMargin:l["a"],noData:u["a"],PosiShare:d["a"],stopLossStopProfitPopup:x},props:{lightning:{type:Boolean}},data:function(){return{isShare:!1,item:{},dataArr:null,hideOtherHolding:Boolean(Number(localStorage.getItem("hideOtherHolding")))||!1,strongFlatPrice:0,leverMode:this.$t("AllPosition"),leverModeOptions:[this.$t("AllPosition"),"1x","5x","20x","50x","100x"],isAllPositions:0,indexItem:null,gearingArr:[],showDialog:!1,cfloading:!1,commissionPrice:"",authorizedQuantity:"",selectMode:this.$t("LimitPrice"),orderType:1,selectModeOptions:[this.$t("LimitPrice"),this.$t("MarketPrice")],upDownColor:Number(localStorage.getItem("upDownColorIndex"))||0,positionEffect:2,contractInfo:{},uuid:Object(a["j"])(),cancelAllUuid:Object(a["j"])(),adjustMarginRateUuid:Object(a["j"])(),marketPriceDialog:!1,cfloading2:!1,picker:null,noDataStatus:2,itemContractId:0,trasfDialogStatus:!1,simulatedTransaction:!1,lastPosition:null,toastSettimeOut:null,btnActive:-1,needCancelDelegation:[]}},watch:{selectMode:function(t){var e=this.selectModeOptions.indexOf(t);this.orderType=e?3:1},hideOtherHolding:function(t){localStorage.setItem("hideOtherHolding",Number(t))},holdingPositions:function(t){clearTimeout(this.toastSettimeOut)}},computed:$($($($({},Object(c["e"])("futures",["indicatorList","contractObj","marginAccount","futureQuotMessage","currentDelegation","holdingPositions","holdingPositionsArr","futureAllIndicator","simulationStatus"])),Object(c["e"])({contractId:function(t){var e=t.futures;return e.contractID}})),Object(c["c"])("futures",["getCurrencySymbolByCurrencyId","getFloatByPriceTick","getLastPrice","getCurrencySymbol","getContractUnitByContractId","getContractSideByContractId"])),{},{contractSide:function(){return this.contractObj[this.indexItem.contractId]?this.contractObj[this.indexItem.contractId].contractSide:0},contractSymbol:function(){return this.contractObj[this.indexItem.contractId]?this.contractObj[this.indexItem.contractId].symbol:""},symbolOfPrice:function(){var t="";return t=this.contractSide>1?this.contractObj[this.indexItem.contractId]?this.getCurrencySymbolByCurrencyId(this.contractObj[this.indexItem.contractId].commodityId):"":this.contractObj[this.indexItem.contractId]?this.getCurrencySymbolByCurrencyId(this.contractObj[this.indexItem.contractId].currencyId):"",t},a:function(){var t=this;if(this.hideOtherHolding||this.simulatedTransaction)return this.holdingPositionsArr.filter((function(e){return e.contractId===t.contractId}));var e=[];return this.holdingPositionsArr.forEach((function(i){(3===t.simulationStatus&&999999!==i.contractId||3!==t.simulationStatus)&&e.push(i)})),e},showButton:function(){var t=!1;return(this.orderType>2&&this.authorizedQuantity||this.orderType<2&&this.commissionPrice&&this.authorizedQuantity)&&(t=!0),t},imcomePrice:function(){var t="";return t=3===this.orderType?this.$t("MarketPrice"):""===this.commissionPrice?0:this.commissionPrice,t},lastPrice:function(){var t=this;return this.futureAllIndicator&&this.futureAllIndicator.length&&this.futureAllIndicator.find((function(e){return e.contractId===t.indexItem.contractId}))?this.futureAllIndicator.find((function(e){return e.contractId===t.indexItem.contractId})).lastPrice:0},income:function(){return this.calcIncome()}}),methods:$($($({},Object(c["b"])("futures",["queryVarietyMargin","adjustMarginRate","placeOrder","setContractId","cancelAllOrder","setTrasfDialogStatus","queryPosi","pullData"])),Object(c["d"])("futures",["SETHOLDINGPOS","SETSTRONGSTATUSARR"])),{},{cancelStopPLEntrust:function(t){var e=this;this.needCancelDelegation=[],this.currentDelegation.forEach((function(i){i.contractId!==t.contractId&&0===i.stopCondition&&i.stopPrice&&2===i.positionEffect&&e.needCancelDelegation.push(i)})),console.log("this.needCancelDelegation",this.needCancelDelegation)},closeFooter:function(){this.isShare=!1},calcHoldCost:function(t){return this.getContractSideByContractId(t.contractId)&&t.posiQty?1==this.getContractSideByContractId(t.contractId)?Math.abs(new E(t.posiQty).times(this.getContractUnitByContractId(t.contractId)).toFixed(4)):Math.abs(new E(t.posiQty).times(this.getContractUnitByContractId(t.contractId)).div(t.openPrice).toFixed(4)):null},toContractInfo:function(t){},priceSymbol:function(t){return this.contractObj[t]?this.getCurrencySymbolByCurrencyId(this.contractObj[t].currencyId):""},beforeClose:function(t,e){"confirm"===t?(this.authorizedQuantity="",this.commissionPrice="",setTimeout(e,1e3)):(this.authorizedQuantity="",this.commissionPrice="",e())},fullWithdrawal:function(){},getQueryVarietyMargin:function(t){var e=this;if(this.contractObj[this.contractId]){var i={varietyId:this.contractObj[this.contractId].varietyId,contractId:this.contractId};this.queryVarietyMargin(i).then((function(i){var n=["1x","2x","3x","4x","5x","10x","20x","50x","100x"];if(!i.code&&i.data.length){var r=i.data.find((function(e){return Number(e.posiQty)>=Number(t)})),s=r.initRate,o=Math.floor(1/Number(s));e.leverModeOptions=[e.$t("AllPosition")].concat(j(n.filter((function(t){return Number(t.slice(0,t.length-1))<o}))),["".concat(o,"x")])}var c=e.resetPickerData(e.leverModeOptions);e.picker||(e.picker=e.$createPicker({title:e.$t("Leverage"),data:[c],onSelect:e.selectHandle,onCancel:e.cancelHandle})),e.picker.show()}))}},resetPickerData:function(t){var e=[];return t.forEach((function(t){var i={text:t,value:Number(t.slice(0,t.length-1))>0?Number(t.slice(0,t.length-1)):0};e.push(i)})),e},changeAdjustMargin:function(t){var e=this;this.$toast.loading({mask:!0,message:this.$t("Modifying")}),this.toastSettimeOut=setTimeout((function(){e.pullData()}),3e3);var i={contractId:this.indexItem.contractId,initMarginRate:2==this.isAllPositions?String(t):0,marginType:2==this.isAllPositions?2:1};this.adjustMarginRate({params:i,headers:{unique:this.adjustMarginRateUuid}}).then((function(t){e.adjustMarginRateUuid=Object(a["j"])(),0===t.code?e.$notify({message:e.$t("ModifyPositionSuccessfully"),duration:1e3,background:"#1989fa"}):console.log(t.msg)})).catch((function(t){console.log(t),e.adjustMarginRateUuid=Object(a["j"])()}))},closePosi:function(t){this.indexItem=t,this.showDialog=!0},MarketPriceDialogShow:function(t){this.indexItem=t,this.marketPriceDialog=!0,this.orderType=3,this.authorizedQuantity=Math.abs(Number(this.indexItem.fairQty))},MarketCancel:function(){this.marketPriceDialog=!1,this.orderType=1,this.authorizedQuantity=""},MarketPriceClosing:function(){var t=this;this.orderType=1,this.authorizedQuantity="",this.marketPriceDialog=!1;var e=Number(this.indexItem.posiQty)>0?Number(this.indexItem.posiQty):-Number(this.indexItem.posiQty),i=Number(this.indexItem.posiQty)>0?-1:1,n=-1;this.indexItem.contractId;if(this.currentDelegation.some((function(e){return e.contractId===t.indexItem.contractId&&t.indexItem.side!==e.side&&e.orderStatus<11}))){var r=this.currentDelegation.filter((function(e){return e.contractId===t.indexItem.contractId&&t.indexItem.side!==e.side&&e.orderStatus<11})),s=r.map((function(t){return{contractId:t.contractId,originalOrderId:t.orderId}}));Object(h["e"])({data:{cancels:s},headers:{unique:this.cancelAllUuid}}).then((function(r){t.cancelAllUuid=Object(a["j"])(),t.ordered(i,n,t.indexItem.contractId,e)}))}else this.ordered(i,n,this.indexItem.contractId,e)},ordered:function(t,e,i,n){var r=this;this.$toast.loading({mask:!0,message:this.$t("Ordering")}),this.toastSettimeOut=setTimeout((function(){r.pullData()}),3e3),this.lastPosition=this.holdingPositions&&this.holdingPositions.posis&&this.holdingPositions.posis.length?this.holdingPositions.posis.find((function(t){return t.contractId===r.contractId})):null;var s={contractId:i,side:t,orderType:1===e?1:3,price:1===e?this.commissionPrice:"",quantity:n,positionEffect:this.positionEffect,marginType:this.indexItem.marginType,marginRate:2===this.positionEffect?this.indexItem.initMarginRate:0};this.placeOrder({params:s,headers:{unique:this.uuid}}).then((function(t){if(r.uuid=Object(a["j"])(),1031===t.code){var e={contractId:r.contractId,initMarginRate:1===r.isAllPositions?0:1,marginType:1===r.isAllPositions?1:2};r.adjustMarginRate({params:e,headers:{unique:r.adjustMarginRateUuid}}).then((function(t){r.adjustMarginRateUuid=Object(a["j"])(),0===t.code&&r.placeOrder({params:s,headers:{unique:r.uuid}}).then((function(e){r.uuid=Object(a["j"])(),0===e.code?r.$notify({message:r.$t("OrderedSuccessfully"),duration:1e3,background:"#1989fa"}):(r.Notify(t.code),r.reAdjustMarginRate(),console.log(e.msg))})).catch((function(t){r.reAdjustMarginRate(),console.log(t)}))}))}else 0===t.code?r.$notify({message:r.$t("OrderedSuccessfully"),duration:1e3,background:"#1989fa"}):(r.Notify(t.code),console.log(t.msg));r.doCancel()})).catch((function(t){r.uuid=Object(a["j"])(),r.adjustMarginRateUuid=Object(a["j"])()}))},Notify:function(t){var e=this.$t("ResCode"),i=e["".concat(t)];this.$notify({message:i})},reAdjustMarginRate:function(){var t=this,e={contractId:this.contractId,initMarginRate:1===this.lastPosition.marginType?0:this.lastPosition.initMarginRate,marginType:this.lastPosition.marginType};this.adjustMarginRate({params:e,headers:{unique:this.adjustMarginRateUuid}}).then((function(e){t.adjustMarginRateUuid=Object(a["j"])()}))},changePriceMode:function(t,e,i){this.orderType=0===e?1:3},doCancel:function(){this.showDialog=!1,this.orderType=1,this.selectMode=this.$t("LimitPrice"),this.authorizedQuantity="",this.commissionPrice=""},doConfirm:function(){var t=1;Number(this.indexItem.posiQty)>0&&(t=-1),this.ordered(t,this.orderType,this.indexItem.contractId,this.authorizedQuantity)},showPicker:function(t){this.indexItem=t,this.getQueryVarietyMargin(t.posiQty)},selectHandle:function(t,e,i){console.log(t,e,i,"this.this.this.");var n=1;t>0?(this.isAllPositions=2,n=(1/t).toFixed(10)):this.isAllPositions=1,this.changeAdjustMargin(n)},cancelHandle:function(){},ajustMargin:function(t){2===t.marginType&&(this.itemContractId=t.contractId,this.setTrasfDialogStatus(!0))},sharePosi:function(t){this.item=t,this.isShare=!0},isHtml5Plus:function(){return navigator.userAgent.indexOf("Html5Plus")>-1},calcIncome:function(){var t=new E(Number(this.authorizedQuantity)),e=this.indexItem.fairQty>0?new E(1):new E(-1),i=new E(Number(this.indexItem.openPrice)),n=0,r=new E(this.contractObj[this.indexItem.contractId].contractUnit),s=new E(1);if(3===this.orderType)n=new E(Number(this.lastPrice));else{if(""===this.commissionPrice)return 0;n=new E(Number(this.commissionPrice))}return 1===this.contractSide?t.times(e).times(n.minus(i)).times(r):t.times(e).times(s.div(i).minus(s.div(n))).times(r)},setQty:function(t){var e=this;this.authorizedQuantity=Math.ceil(.25*(t+1)*Math.abs(Number(this.indexItem.fairQty))),this.btnActive=t,this.$nextTick((function(){})),setTimeout((function(){e.btnActive=-1}),100)},showStopPLPopup:function(t){this.indexItem=t,this.$refs.stopLossStopProfitPopup.isShow=!0},closeMarketPricePopup:function(){this.marketPriceDialog=!1}}),created:function(){var t=this;this.contractInfo=this.indicatorList.find((function(e){return e.contractId===t.contractId})),"/simulationTrade"===this.$route.path?this.simulatedTransaction=!0:this.simulatedTransaction=!1}},F=R,U=(i("7d31"),i("b670"),i("5a70"),Object(_["a"])(F,s,o,!1,null,"52c070f8",null)),B=U.exports,Q=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list-temp"},[i("div",{staticClass:"check flex-row"},[i("van-checkbox",{model:{value:t.hideOtherDelegation,callback:function(e){t.hideOtherDelegation=e},expression:"hideOtherDelegation"}},[t._v(t._s(t.$t("Hide")))]),i("span",{staticClass:"all-out",class:{"can-click":t.canClick},on:{click:t.handelCancelAllOrder}},[t._v(t._s(t.$t("CancelAll")))])],1),i("div",{staticClass:"list-box"},t._l(t.list,(function(e){return i("div",{key:e.id,staticClass:"list"},[i("div",{staticClass:"list-title flex-row"},[i("div",{staticClass:"l flex-row"},[i("span",{directives:[{name:"show",rawName:"v-show",value:e.fcOrderId,expression:"item.fcOrderId"}],staticClass:"contract-status"},[t._v(t._s(t.$t("ForcedLiq")))]),i("div",{staticClass:"name"},[t._v(t._s(t.contractObj[e.contractId].symbol))]),i("div",{staticClass:"full"},[t._v(t._s(1===e.marginType?t.$t("AllPosition"):t.$t("Isolated")))]),i("div",{staticClass:"full"},[t._v(t._s(2===e.positionEffect?t.$t("Liquidation"):t.$t("OpenP")))])]),i("div",{staticClass:"condition",class:{buyin:e.side>0}},[t._v(t._s(e.orderType>1?t.$t("MarketPrice"):t.$t("LimitPrice"))+t._s(e.side>0?t.$t("Buy"):t.$t("Sell")))])]),i("div",{staticClass:"data"},[i("div",{staticClass:"flex-row line"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("Order"))+"/"+t._s(t.$t("DealPrice")))]),i("div",{staticClass:"content"},[t._v(t._s(t.getFloatByPriceTick(e.price,e.contractId))+"/"+t._s(t.getFloatByPriceTick(e.dealPrice,e.contractId)))])]),i("div",{staticClass:"flex-row line"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("Order"))+"/"+t._s(t.$t("DealAmount")))]),999999===Number(e.quantity)?i("div",{staticClass:"content"},[t._v("全部/"+t._s(t._f("toFix6")(e.dealQty)))]):i("div",{staticClass:"content"},[t._v(t._s(t._f("toFix6")(e.quantity))+"/"+t._s(t._f("toFix6")(e.dealQty)))])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.orderSubType>1,expression:"item.orderSubType>1"}],staticClass:"flex-row line"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("Trigger")))]),i("div",{staticClass:"content"},[t._v(t._s(t.TriggeringConditions(e)))])]),i("div",{staticClass:"flex-row line"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("Order"))+t._s(t.$t("Time")))]),i("div",{staticClass:"content"},[t._v(t._s(e.placeTimestamp))]),i("van-button",{staticClass:"btn",attrs:{plain:""},on:{click:function(i){return i.stopPropagation(),t.handelCancelOrder(e)}}},[t._v(t._s(t.$t("CancelOrder")))])],1)])])})),0),i("noData",{directives:[{name:"show",rawName:"v-show",value:0===t.listData.length,expression:"listData.length === 0"}],attrs:{status:t.noDataStatus}})],1)},q=[],V=i("dee9"),H=i.n(V),z=i("79ec");function G(t,e,i,n,r,s,o){try{var c=t[s](o),a=c.value}catch(u){return void i(u)}c.done?e(a):Promise.resolve(a).then(n,r)}function W(t){return function(){var e=this,i=arguments;return new Promise((function(n,r){var s=t.apply(e,i);function o(t){G(s,n,r,o,c,"next",t)}function c(t){G(s,n,r,o,c,"throw",t)}o(void 0)}))}}function J(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Y(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?J(Object(i),!0).forEach((function(e){K(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):J(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function K(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Z=i("8a8d"),X={components:{noData:u["a"]},data:function(){return{lever:1,listData:[],canClick:!1,hideOtherDelegation:Boolean(Number(localStorage.getItem("hideOtherDelegation")))||!1,cancelUuid:Object(a["j"])(),cancelAllUuid:Object(a["j"])(),noDataStatus:2,toastSettimeOut:null,t:!1,timerIn:null}},computed:Y(Y(Y({},Object(c["e"])({contractObj:function(t){var e=t.futures;return e.contractObj},contractId:function(t){var e=t.futures;return e.contractID},currentDelegation:function(t){var e=t.futures;return e.currentDelegation},holdingPositionsArr:function(t){var e=t.futures;return e.holdingPositionsArr}})),Object(c["c"])("futures",["getFloatByPriceTick"])),{},{list:function(){return this.sortList()}}),watch:{currentDelegation:{handler:function(t){var e=this;if(t&&t.length){if(clearTimeout(this.toastSettimeOut),this.hideOtherDelegation){var i=t.filter((function(t){return t.contractId===e.contractId}));console.log(i),this.addProperty(i)}else this.addProperty(t);this.$toast.clear()}},deep:!0},hideOtherDelegation:function(t){var e=this;if(localStorage.setItem("hideOtherDelegation",Number(t)),t){var i=this.currentDelegation.filter((function(t){return t.contractId===e.contractId}));this.addProperty(i)}else this.addProperty(this.currentDelegation)}},methods:Y(Y(Y({},Object(c["b"])("futures",["cancelOrder","queryPosi","queryActiveOrder","cancelAllOrder","setContractId","pullData"])),Object(c["d"])("futures",["SETCURRENTDELEGATION"])),{},{isHtml5Plus:function(){return navigator.userAgent.indexOf("Html5Plus")>-1},sortList:function(){return this.listData.sort((function(t,e){return Number(new Date(e.placeTimestamp).getTime())-Number(new Date(t.placeTimestamp).getTime())}))},TriggeringConditions:function(t){var e="",i="";switch(t.orderSubType){case 2:e=this.$t("StopLast");break;case 3:e=this.$t("StopIndex");break;case 4:e=this.$t("StopMark");break;default:break}switch(t.orderStatus){case 11:i="≥";break;case 12:i="≤";break;default:break}return"".concat(e).concat(i).concat(this.getFloatByPriceTick(t.stopPrice,t.contractId))},dateFixed:function(t){return t<10?"0".concat(t):t},toContractInfo:function(t){this.setContractId(t.contractId),this.$router.push("/quotes/details?id=".concat(t.contractId))},dateFormat:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MM/DD/YY HH:mm:ss";return t?(t=H()(t).format(e),t):""},addProperty:function(t){var e=this;t=t.filter((function(t){return"0"!==t.leftQuantity})),this.listData=JSON.parse(JSON.stringify(t)),this.listData.map((function(t){var i=Math.floor(t.placeTimestamp/1e3),n=new Z(e.contractObj[t.contractId].contractUnit),r=e.contractObj[t.contractId].contractSide;t.placeTimestamp=e.dateFormat(i),t.dealQty=Number(t.quantity)-Number(t.leftQuantity),t.dealQty>0?t.dealPrice=1===r?new Z(Number(t.matchAmt)).div(t.dealQty).div(n):new Z(t.dealQty).times(n).div(new Z(Number(t.matchAmt))):t.dealPrice=0})),this.listData.length>0?this.canClick=!0:this.canClick=!1},handelCancelOrder:function(t){var e=this;this.$toast.loading({mask:!0,message:this.$t("Modifying")}),this.toastSettimeOut=setTimeout((function(){e.pullData()}),3e3);var i={contractId:t.contractId,originalOrderId:t.orderId};this.cancelOrder({params:i,headers:{unique:this.cancelUuid}}).then((function(t){e.cancelUuid=Object(a["j"])(),t.code||Object(z["notifySccessMsg"])(e.$t("CanceledSuccessfully"))})).catch((function(t){console.log(t)}))},handelCancelAllOrder:function(){var t=this;if(!this.canClick)return!1;this.$toast.loading({mask:!0,message:this.$t("Modifying")}),this.toastSettimeOut=setTimeout((function(){t.pullData()}),3e3),this.cancelAllOrder({headers:{unique:this.cancelAllUuid}}).then((function(e){t.cancelAllUuid=Object(a["j"])(),e.code||Object(z["notifySccessMsg"])(t.$t("CanceledSuccessfully"))})).catch((function(t){console.log(t)}))},dealFun:function(t){var e=this,i=this.currentDelegation.filter((function(t){return t.orderSubType>1&&t.orderStatus>10&&2===t.positionEffect}));if(i.length){console.log("newVal",t);var n=[];if(t.length>0){var r=t.map((function(t){return t.contractId}));console.log("newValIds",r),n=r||[]}else n=[];var s=[];i.forEach((function(t){if(!n.includes(t.contractId)){var e={contractId:t.contractId,originalOrderId:t.orderId};s.push(e)}})),console.log("params",s),s.length>0?(console.log("conditionOrders",i),console.log("newValIdArr",n),Object(h["e"])({data:{cancels:s},headers:{unique:Object(a["j"])()}}).then((function(t){setTimeout((function(){e.t=!0}),5e3),console.log(t)}))):setTimeout((function(){e.t=!0}),5e3)}},dealFun2:function(t,e){var i=this;console.log("newVal",t),console.log("oldVal",e);var n=t.map((function(t){return t.contractId})),r=e.map((function(t){return t.contractId}));if(n.toString()===e.toString())return!1;var s=r.filter((function(t){return n.indexOf(t)<0}));if(!s.length||!this.currentDelegation.length)return!1;s.forEach((function(t){console.log(1111111111);var e=i.currentDelegation.filter((function(e){return e.contractId===t&&e.orderSubType>1&&e.orderStatus>10&&2===e.positionEffect}));if(e.length){console.log(2222222222);var n=e.map((function(t){return{contractId:t.contractId,originalOrderId:t.orderId}}));Object(h["e"])({data:{cancels:n},headers:{unique:Object(a["j"])()}}).then((function(t){console.log(t)})),console.log(n,"conditionOrderIds")}})),console.log(s,"closePosiArr")}}),created:function(){var t=W(v.a.mark((function t(){return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),mounted:function(){var t=W(v.a.mark((function t(){return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$nextTick();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),beforeDestroy:function(){clearInterval(this.timerIn)}},tt=X,et=(i("c691"),Object(_["a"])(tt,Q,q,!1,null,"593bde87",null)),it=et.exports,nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"historical-record"},[i("div",{staticClass:"list-box"},[i("div",{staticClass:"check flex-row"},[i("van-checkbox",{model:{value:t.hideOtherHoldingHis,callback:function(e){t.hideOtherHoldingHis=e},expression:"hideOtherHoldingHis"}},[t._v(t._s(t.$t("Hide")))])],1),i("van-list",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],attrs:{finished:t.finished,"finished-text":t.$t("NoMore")},on:{load:t.onLoad},model:{value:t.Loading,callback:function(e){t.Loading=e},expression:"Loading"}},t._l(t.listDatas,(function(e,n){return i("div",{key:n,staticClass:"list",on:{click:function(i){t.$router.push("/contract/transactionDetails?clOrderId="+t.getOrderId(e))}}},[i("div",{staticClass:"list-title flex-row"},[i("div",{staticClass:"name"},[t._v("\n            "+t._s(t.contractObj[e.contractId].symbol)+"\n            "),i("span",{staticClass:"Simulation"},[t._v(t._s(999999===e.contractId?t.$t("Simulation"):""))])]),i("div",{staticClass:"full"},[1===Number(e.side)?i("span",{staticClass:"bgGreen"},[t._v(t._s(t.showOrderType(e)))]):i("span",{staticClass:"bgRed"},[t._v(t._s(t.showOrderType(e)))])]),i("div",{staticClass:"arrow-left"})]),i("div",{staticClass:"data"},[i("div",{staticClass:"flex-row top"},[i("div",{staticClass:"l"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("DealAmount"))+"（张）")]),i("div",{staticClass:"number"},[t._v(t._s(t._f("toFix6")(e.matchQty)))])]),i("div",{staticClass:"m"},[i("div",{staticClass:"title"},[t._v("成交金额")]),i("div",{staticClass:"number"},[t._v(t._s(e.matchAmt))])]),i("div",{staticClass:"r"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("Fee")))]),i("div",{staticClass:"number"},[t._v(t._s(t._f("toFix6")(t.getFree(e))))])])]),i("div",{staticClass:"flex-row"},[i("div",{staticClass:"l"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("DealPrice")))]),i("div",{staticClass:"number"},[t._v(t._s(t.getFloatByPriceTick(e.matchPrice,e.contractId)))])]),i("div",{staticClass:"m"},[i("div",{staticClass:"title"},[t._v("成交类型")]),0===t.matchType(e)?i("div",{staticClass:"number"},[t._v(t._s(t.$t("Normal")))]):t._e(),1===t.matchType(e)?i("div",{staticClass:"number"},[t._v(t._s(t.$t("ForcedLiq")))]):t._e(),2===t.matchType(e)?i("div",{staticClass:"number"},[t._v(t._s(t.$t("BanktuptClose")))]):t._e(),3===t.matchType(e)?i("div",{staticClass:"number"},[t._v(t._s(t.$t("AutoClose")))]):t._e()]),i("div",{staticClass:"r"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("ClosePAndL")))]),t.getPnl(e)>0?i("div",{staticClass:"number colorGreen"},[t._v(t._s(t._f("toFix6")(t.getPnl(e))))]):t.getPnl(e)<0?i("div",{staticClass:"number colorRed"},[t._v(t._s(t._f("toFix6")(t.getPnl(e))))]):i("div",{staticClass:"number"},[t._v(t._s(t._f("toFix6")(t.getPnl(e))))])])]),i("div",{staticClass:"flex-row time"},[i("van-icon",{attrs:{name:"clock-o"}}),t._v(t._s(t.dateFormat(e.matchTime/1e3))+"\n          ")],1)])])})),0)],1),i("noData",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"}],attrs:{status:t.noDataStatus}})],1)},rt=[];function st(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function ot(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?st(Object(i),!0).forEach((function(e){ct(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):st(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function ct(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var at=i("8a8d"),ut={components:{noData:u["a"]},data:function(){return{userInfo:JSON.parse(localStorage.getItem("userInformation")),listDatas:[],tempListData:[],noDataStatus:2,show:!0,Loading:!1,finished:!1,queryList:[],hideOtherHoldingHis:Boolean(Number(localStorage.getItem("hideOtherHoldingHis")))||!1,endDate:"",upDownColor:Number(localStorage.getItem("upDownColorIndex"))||0,pageSize:10}},computed:ot(ot({},Object(c["e"])({contractObj:function(t){var e=t.futures;return e.contractObj},contractId:function(t){var e=t.futures;return e.contractID},historyDeal:function(t){var e=t.futures;return e.historyDeal}})),Object(c["c"])("futures",["getCurrencySymbolByCurrencyId","getFloatByPriceTick"])),watch:{hideOtherHoldingHis:function(t){localStorage.setItem("hideOtherHoldingHis",Number(t)),this.filterList(t)}},methods:ot(ot(ot({},Object(c["b"])("futures",["queryMatch"])),Object(c["d"])("futures",["SETHISTORYDEAL","SETENDDATE"])),{},{dateFormat:z["dateFormat"],calcTransactionStatus:function(t){var e=this;if(!t||!t.length)return!1;var i=t;i.map((function(t){var i=new at(Number(t.matchAmt)),n=new at(Number(t.matchQty)),r=e.contractObj[t.contractId]?new at(e.contractObj[t.contractId].contractUnit):new at(.01);1===e.contractObj[t.contractId].contractSide?t.dealPrice=0===n?0:i.div(n.times(r)):t.dealPrice=0!==i?n.times(r).div(i):0})),this.listDatas=this.listDatas.concat(i),this.SETHISTORYDEAL(this.listDatas),this.filterList(this.hideOtherHoldingHis)},filterList:function(t){var e=this;this.listDatas=t?this.listDatas.filter((function(t){return t.contractId===e.contractId})):[].concat(this.historyDeal)},onLoad:function(){var t=this;if(this.listDatas.length<this.pageSize&&0!==this.listDatas.length)this.Loading=!1;else{var e={pageSize:this.pageSize,endTime:this.endDate||1e3*(new Date).getTime(),side:1};this.queryMatch({params:e}).then((function(e){0===e.code&&e.data&&e.data.length?(t.endDate=e.data[e.data.length-1].matchTime,t.calcTransactionStatus(e.data)):0===t.listDatas.length&&(t.show=!1),t.Loading=!1,0===e.data.length&&(t.finished=!0)}))}},showOrderType:function(t){var e=Number(this.getPositionEffect(t)),i=Number(t.side),n="";return 1===e?n=i>0?this.$t("OpenLong"):this.$t("OpenShort"):2===e&&(n=i>0?this.$t("CloseLong"):this.$t("CloseShort")),n},getPnl:function(t){return t.askUserId===this.userInfo.id?t.askPnl:t.bidPnl},getOrderId:function(t){return t.askUserId===this.userInfo.id?t.askOrderId:t.bidOrderId},getFree:function(t){return t.askUserId===this.userInfo.id?t.askFee:t.bidFee},matchType:function(t){return t.askUserId===this.userInfo.id?t.askMatchType:t.bidMatchType},getPositionEffect:function(t){return t.askUserId===this.userInfo.id?t.askPositionEffect:t.bidPositionEffect}}),created:function(){}},lt=ut,dt=(i("6404"),Object(_["a"])(lt,nt,rt,!1,null,"5747ac55",null)),ht=dt.exports;i("51a4");function ft(t,e,i,n,r,s,o){try{var c=t[s](o),a=c.value}catch(u){return void i(u)}c.done?e(a):Promise.resolve(a).then(n,r)}function pt(t){return function(){var e=this,i=arguments;return new Promise((function(n,r){var s=t.apply(e,i);function o(t){ft(s,n,r,o,c,"next",t)}function c(t){ft(s,n,r,o,c,"throw",t)}o(void 0)}))}}function mt(t){return yt(t)||bt(t)||gt(t)||vt()}function vt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function gt(t,e){if(t){if("string"===typeof t)return Ot(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Ot(t,e):void 0}}function bt(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function yt(t){if(Array.isArray(t))return Ot(t)}function Ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function Pt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function It(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Pt(Object(i),!0).forEach((function(e){Ct(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Pt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Ct(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var wt,_t,St=i("8a8d"),xt={data:function(){return{buyOrSell:"".concat(this.$t("Buy"),"/").concat(this.$t("MakeLong")),buyOrSellStatus:0,priceStatus:0,conditionOrEntrust:0,availableBalance:"0",availableCurrencyName:"",active:0,priceL:"",countL:"",triggerPrice:"",DelegateMode:this.$t("LimitOrder"),DelegateModeOptions:[this.$t("LimitOrder"),this.$t("MarketPriceOrder"),this.$t("LimitCondition"),this.$t("MarketPriceCondition")],DelegateModeStatus:0,leverMode:this.$t("AllPosition"),leverModeOptions:[this.$t("AllPosition"),"1x","2x","3x","4x","5x","20x","50x","100x"],handicap:this.$t("TradingOutlet"),positions:"0",isAllPositions:0,positionEffect:1,guest:!0,upDownColor:Number(localStorage.getItem("upDownColorIndex"))||0,commissionValue:0,cost:0,status:2,valuation:0,uuid:Object(a["j"])(),adjustMarginRateUuid:Object(a["j"])(),exchangeCurrencySymbol:localStorage.getItem("exchangeCurrencysymbol")||"¥",matchStatus:!1,placeTimeOut:null,lastPosition:null,redEnvelopeStatus:!1,userGuideStatus:localStorage.getItem("userGuideStatus"),showGuide:!1,triggerOptions:[{value:"3",text:this.$t("StopIndex")},{value:"4",text:this.$t("StopMark")}],trigger:"3",orderSubType:0,countBlockIndex:-1,TriggerClosePosition:!1,leverBox:null,leverWarn:!1,countType:0,initAccountEquityTimer:null}},computed:It(It(It(It(It(It({},Object(c["e"])("futures",["contractObj","futureQuotMessage","holdingPositions","marginAccount","strongStatus","strongStatusFlag","strongStatusFlag","commonInfoStatus","tabListActive","headerList","bidsAsksMessage","lendingAsset"])),Object(c["e"])("assets",["accountTotal"])),Object(c["e"])({contractId:function(t){var e=t.futures;return e.contractID}})),Object(c["c"])("common",["getCurrencyByCurrencyId","getRateByCurrencyId"])),Object(c["c"])("futures",["getCurrencySymbolByCurrencyId","getCoinsLatest","getRate"])),{},{accountItem:function(){var t=this;if(!this.accountTotal.assets[2])return{};var e=this.accountTotal.assets[2].currencyAssetList.find((function(e){return e.currencyId===t.currencyId}));return e||{}},leverIndex:function(){return this.leverModeOptions.indexOf(this.leverMode)},triggerText:function(){var t=this;return this.triggerOptions.find((function(e){return e.value===t.trigger}))?this.triggerOptions.find((function(e){return e.value===t.trigger})).text:""},lastPrice:function(){return this.futureQuotMessage.result?this.futureQuotMessage.result.lastPrice:""},clearPrice:function(){return this.futureQuotMessage.result?this.futureQuotMessage.result.clearPrice:""},indexPrice:function(){return this.futureQuotMessage.result?this.futureQuotMessage.result.indexPrice:""},triggerSymbol:function(){switch(this.trigger){case"2":return Number(this.lastPrice)<Number(this.triggerPrice)?"≥":Number(this.lastPrice)>Number(this.triggerPrice)?"≤":"";case"3":return Number(this.indexPrice)<Number(this.triggerPrice)?"≥":Number(this.indexPrice)>Number(this.triggerPrice)?"≤":"";case"4":return Number(this.clearPrice)<Number(this.triggerPrice)?"≥":Number(this.clearPrice)>Number(this.triggerPrice)?"≤":"";default:return""}},priceChangeRadio:function(){return this.futureQuotMessage.result?Number(this.futureQuotMessage.result.priceChangeRadio):0},lastPriceCny:function(){var t;t=this.contractObj[this.contractId]&&2===this.contractObj[this.contractId].contractSide?new St(this.getCoinsLatest(this.contractObj[this.contractId].commodityId)):this.contractObj[this.contractId]&&this.getCoinsLatest(this.contractObj[this.contractId].currencyId)?new St(this.getCoinsLatest(this.contractObj[this.contractId].currencyId)):new St(0);var e=new St(Number(this.lastPrice)),i=localStorage.getItem("exchangeCurrencyId")||6,n=new St(this.getRate(i));return t.times(e).times(n)},currencyId:function(){return this.contractObj[this.contractId]?this.contractObj[this.contractId].currencyId:""},commodityId:function(){return this.contractObj[this.contractId]?this.contractObj[this.contractId].commodityId:""},amountPriceSymbol:function(){return this.contractObj[this.contractId]?this.getCurrencySymbolByCurrencyId(this.contractObj[this.contractId].currencyId):""},priceSymbol:function(){var t="";return t=this.contractSide>1?this.contractObj[this.contractId]?this.getCurrencySymbolByCurrencyId(this.contractObj[this.contractId].commodityId):"":this.contractObj[this.contractId]?this.getCurrencySymbolByCurrencyId(this.contractObj[this.contractId].currencyId):"",t},strongFlag:{get:function(){return this.strongStatusFlag},set:function(t){this.setStrongStatus(!1)}},contractType:function(){return this.contractObj[this.contractId]?this.contractObj[this.contractId].contractType:0},contractSide:function(){return this.contractObj[this.contractId]?this.contractObj[this.contractId].contractSide:0},priceTick:function(){return this.contractObj[this.contractId]?this.contractObj[this.contractId].priceTick:0},lotSize:function(){return this.contractObj[this.contractId]?this.contractObj[this.contractId].lotSize:0},contractUnit:function(){return this.contractObj[this.contractId]?this.contractObj[this.contractId].contractUnit:0},DelegateModeIndex:function(){return this.DelegateModeOptions.indexOf(this.DelegateMode)},singleCost:function(){if(!this.countType)return 1;var t=this.leverModeOptions.indexOf(this.leverMode),e=this.leverModeOptions[this.leverModeOptions.length-1],i=this.DelegateModeIndex%2?new St(Number(this.getFirstPrice()?this.getFirstPrice():this.lastPrice)||1):new St(Number(this.priceL?this.priceL:1)),n=new St(this.contractUnit),r=new St(Number(0===t?e.slice(0,e.length-1):this.leverMode.slice(0,this.leverMode.length-1)));return 1===this.contractSide?i.times(n).div(r).plus(n.times(this.addMargin(i))):n.div(i.times(r)).plus(n.times(this.addMargin(i)))},quantity:function(){var t=0;if(this.countType&&this.countL){var e=new St(this.countL);t=Object(z["toFix6"])(Number(e.div(this.singleCost).toString()))}else t=this.countL;return Math.floor(t)},countPlaceHolder:function(){return this.countType?"".concat(this.$t("Value"),"(").concat(this.amountPriceSymbol,")"):"".concat(this.$t("Quantity"),"(").concat(this.$t("Cont"),")")},availableOpen:function(){if(this.guest)return"--";if(0===Number(this.priceL))return 0;var t=this.leverModeOptions.indexOf(this.leverMode),e=this.leverModeOptions[this.leverModeOptions.length-1],i=this.DelegateModeIndex%2?new St(Number(this.getFirstPrice()?this.getFirstPrice():this.lastPrice)||1):new St(Number(this.priceL?this.priceL:1)),n=new St(Number(this.availableBalance)?this.availableBalance:1),r=new St(this.contractUnit),s=new St(Number(0===t?e.slice(0,e.length-1):this.leverMode.slice(0,this.leverMode.length-1)));return 1===this.contractSide?Math.floor(n.times(s).div(i).div(r)):"--"}}),methods:It(It(It(It(It({},Object(c["b"])("futures",["setContractId","queryVarietyMargin","futureQueryAvail","placeOrder","adjustMarginRate","setStrongStatus","setTrasfDialogStatus","pullData","querySimulationUserStatus"])),Object(c["b"])("assets",["queryAccountEquity","queryAllCurrency"])),Object(c["b"])("common",["getExchangeCoins","setBaseIndex"])),Object(c["d"])("futures",["SETTABLISTACTIVE"])),{},{initAccountEquity:function(){var t=window.localStorage.getItem("exchangeCurrencyTxt")||"CNY";this.queryAccountEquity({legalSymbol:t})},changeCountType:function(t){this.countType=t?1:0},opponentPrice:function(){this.priceL=this.getFirstPrice()||this.lastPrice},getFirstPrice:function(){if(!this.bidsAsksMessage)return!1;if(this.buyOrSellStatus){if(this.bidsAsksMessage.bids&&this.bidsAsksMessage.bids.length&&this.DelegateModeIndex%2===0)return Number(this.bidsAsksMessage.bids[0][0])}else if(this.bidsAsksMessage.asks&&this.bidsAsksMessage.asks.length&&this.DelegateModeIndex%2===0)return Number(this.bidsAsksMessage.asks[0][0])},calcCount:function(t){if(!this.guest){var e=this.leverModeOptions.indexOf(this.leverMode),i=this.leverModeOptions[this.leverModeOptions.length-1],n=new St(Number(this.availableBalance)),r=new St(Number(0===e?i.slice(0,i.length-1):this.leverMode.slice(0,this.leverMode.length-1))),s=this.DelegateModeIndex%2?new St(Number(this.lastPrice)):new St(Number(this.priceL)),o=new St(this.contractUnit),c=new St(t/100);new St(1);if(this.countType)this.countL=Object(z["toFix6"])(Number(n.times(c).div(Number(this.lotSize))).toString()*Number(this.lotSize));else{if(!Number(s.toString()))return!1;1===this.contractSide?this.countL=Math.floor(Number(n.div(s.times(o).div(r).plus(o.times(this.addMargin(s)))).times(c).toString())):this.countL=Math.floor(Number(n.div(o.div(s).div(r).plus(o.times(this.addMargin(s)))).times(c).toString()))}}},addMargin:function(t){var e=0,i=t,n=new St(this.buyOrSellStatus?-1:1),r=new St(Number(this.clearPrice)),s=new St(1);return e=1===this.contractSide?n.times(i.minus(r)):n.times(s.div(r).minus(s.div(i))),Number(e.toString())>0?Number(e.toString()):0},closeGuide:function(t){this.showGuide=t},setStep:function(t){document.querySelector("#step".concat(t)).scrollIntoView(!0)},closeDialog:function(){this.setStrongStatus(!1)},setTrasfDialogTrue:function(){this.setTrasfDialogStatus(!0)},selectContract:function(){var t=this;this.contractId&&(this.getQueryVarietyMargin(this.positions),this.positions=this.holdingPositions.posis&&this.holdingPositions.posis.length&&this.holdingPositions.posis.find((function(e){return e.contractId===t.contractId}))?this.holdingPositions.posis.find((function(e){return e.contractId===t.contractId})).posiQty:0,this.contractObj[this.contractId]&&this.getFutureQueryAvail())},priceLChange:function(t){""!==this.priceL?t>0?this.priceL=Number(new St(this.priceL).plus(this.priceTick).valueOf()):this.priceL>0&&(this.priceL=Number(new St(this.priceL).minus(this.priceTick).valueOf())):""===this.priceL&&t>0&&(this.priceL=Number(new St(this.priceTick).valueOf()))},countLChange:function(t){""!==this.countL?t>0?this.countL=Number(this.countL)+this.lotSize:this.countL>0&&(this.countL-=this.lotSize):""===this.countL&&t>0&&(this.countL=Number(this.lotSize))},triggerPriceChange:function(t){""!==this.triggerPrice&&this.triggerPrice>0?t>0?this.triggerPrice=Number(this.triggerPrice)+this.priceTick:this.triggerPrice>0&&(this.triggerPrice-=this.priceTick):""===this.triggerPrice&&t>0&&(this.triggerPrice=this.priceTick)},buy:function(){this.buyOrSellStatus=0},sell:function(){this.buyOrSellStatus=1},DelegateModeChange:function(t,e,i){e%2===1?(this.priceStatus=1,this.priceL=this.$t("MarketPrice"),this.valuation=this.lastPriceCny):(this.priceStatus=0,this.priceL=""),e>1?this.conditionOrEntrust=1:(this.conditionOrEntrust=0,this.TriggerClosePosition=!1)},getQueryVarietyMargin:function(t){var e=this;if(this.contractObj[this.contractId]){var i={varietyId:this.contractObj[this.contractId].varietyId,contractId:this.contractId};this.queryVarietyMargin(i).then((function(i){var n=["1x","2x","3x","4x","5x","10x","20x","50x","100x"];if(!i.code&&i.data.length){var r=i.data.find((function(e){return Number(e.posiQty)>=Number(t)})),s=r.initRate,o=Math.floor(1/Number(s));e.leverModeOptions=[e.$t("AllPosition")].concat(mt(n.filter((function(t){return Number(t.slice(0,t.length-1))<o}))),["".concat(o,"x")])}}))}},getFutureQueryAvail:function(){var t=this;this.futureQueryAvail({applId:2}).then((function(e){!e.code&&e.data.length&&(t.availableBalance=e.data.find((function(e){return e.currencyId===t.currencyId}))?Number(e.data.find((function(e){return e.currencyId===t.currencyId})).available).toFixed(16):0),t.availableCurrencyName=t.getCurrencySymbolByCurrencyId(t.currencyId)}))},floatDiv:function(t,e){var i=new St(t);return i.div(e)},placeOrders:function(){this.buyOrSellStatus?this.priceStatus?this.ordered(-1,-1):this.ordered(-1,1):this.priceStatus?this.ordered(1,-1):this.ordered(1,1)},resetForm:function(){!this.DelegateModeIndex%2&&(this.priceL=""),this.countL="",this.triggerPrice=""},ordered:function(t,e){var i=this;if(!this.DelegateModeIndex%2&&!this.priceL||!this.countL||!this.DelegateModeIndex>1&&!this.triggerPrice)return this.$toast(this.$t("FillFormCorrectly")),!1;if(this.$toast.loading({mask:!0,message:this.$t("Ordering")}),this.lastPosition=this.holdingPositions&&this.holdingPositions.posis&&this.holdingPositions.posis.length?this.holdingPositions.posis.find((function(t){return t.contractId===i.contractId})):null,this.placeTimeOut=setTimeout((function(){i.pullData()}),3e3),this.countL<=0)return!1;this.positionEffect=this.TriggerClosePosition?2:1;var n=0;this.leverMode==this.leverModeOptions[0]?this.isAllPositions=1:(this.isAllPositions=2,n=Number(this.leverMode.slice(0,this.leverMode.length-1)));JSON.stringify(this.checkList);var r={contractId:this.contractId,side:t,orderType:1==e?1:3,price:1==e?this.priceL:"",quantity:this.quantity,positionEffect:this.positionEffect,marginType:1===this.positionEffect?1==this.isAllPositions?1:2:1,marginRate:1===this.positionEffect?2==this.isAllPositions?this.floatDiv(1,n).toFixed(10):"":0};this.conditionOrEntrust&&(r.stopPrice=this.triggerPrice,r.orderSubType=this.trigger),this.placeOrder({params:r,headers:{unique:this.uuid}}).then((function(t){if(i.uuid=Object(a["j"])(),1031==t.code){var e={contractId:i.contractId,initMarginRate:2===i.isAllPositions?String(i.floatDiv(1,1)):0,marginType:2===i.isAllPositions?2:1};i.adjustMarginRate({params:e,headers:{unique:i.adjustMarginRateUuid}}).then((function(t){i.adjustMarginRateUuid=Object(a["j"])(),0===t.code?i.placeOrder({params:r,headers:{unique:i.uuid}}).then((function(t){i.uuid=Object(a["j"])(),0===t.code?(i.$notify({message:i.$t("OrderedSuccessfully"),duration:1e3,background:"#1989fa"}),i.resetForm()):(i.Notify(t.code),i.reAdjustMarginRate(),console.log(t.msg))})).catch((function(t){i.reAdjustMarginRate(),console.log(t)})):console.log(t.msg)}))}else 0==t.code?(i.$notify({message:i.$t("OrderedSuccessfully"),duration:1e3,background:"#1989fa"}),i.resetForm()):(i.Notify(t.code),console.log(t.msg))})).catch((function(){i.uuid=Object(a["j"])(),i.adjustMarginRateUuid=Object(a["j"])()}))},Notify:function(t){var e=this.$t("ResCode"),i=e["".concat(t)];this.$notify({message:i})},reAdjustMarginRate:function(){var t=this,e={contractId:this.contractId,initMarginRate:1===this.lastPosition.marginType?0:this.lastPosition.initMarginRate,marginType:this.lastPosition.marginType};this.adjustMarginRate({params:e,headers:{unique:this.adjustMarginRateUuid}}).then((function(){t.adjustMarginRateUuid=Object(a["j"])()}))},resetPriceL:function(t){this.priceStatus||(this.priceL=Number(t))},resetCountL:function(t){this.countL=Number(t)},closeRedEnvelope:function(){var t=this.headerList.length&&this.headerList.find((function(t){return 999999!==t.contractId}))?this.headerList.find((function(t){return 999999!==t.contractId})).contractId:0;this.setContractId(t)},getGuerySimulationUserStatus:function(){var t=this;if(!localStorage.getItem("token"))return!1;this.querySimulationUserStatus().then((function(e){!e.code&&e.data&&(1===e.data.simulationStatus?t.redEnvelopeStatus=!0:4===e.data.simulationStatus&&t.$refs.missionFailed.changeShow(!0),3===e.data.simulationStatus&&(t.$toast("您已毕业"),t.setContractId(t.headerList[0].contractId)))})).catch((function(t){console.log(t)}))},calcCommissionValue:function(){var t=this.quantity?new St(Number(this.quantity)):new St(0),e=new St(this.contractUnit),i=this.priceStatus?new St(Number(this.lastPrice)):new St(Number(this.priceL)),n=0===this.leverModeOptions.indexOf(this.leverMode)?this.leverModeOptions[this.leverModeOptions.length-1]:this.leverMode;n=new St(Number(n.slice(0,n.length-1))),1===this.contractObj[this.contractId].contractSide?this.commissionValue=t.times(e).times(i):"0"!==i.toString()?this.commissionValue=t.times(e).div(i):this.commissionValue=new St(0),this.cost=this.commissionValue.div(n)},clearPlaceTimeOut:function(){this.$toast.clear(),clearTimeout(this.placeTimeOut),this.matchStatus=!1},orderNoticeCalc:function(){var t=this,e=this.buyOrSellStatus?-1:1,i=this.leverModeOptions[this.leverModeOptions.length-1],n=new St(this.clearPrice||1),r=new St(this.lastPrice||1),s=0===this.leverIndex?i.slice(0,i.length-1):this.leverMode.slice(0,this.leverMode.length-1),o=this.DelegateModeIndex%2===1?this.getFirstPrice()?this.getFirstPrice():Number(this.lastPrice):this.priceL,c=Number(n.times(new St(1).plus(new St(.5).div(s))).toString()),a=Number(r.times(new St(1).minus(new St(.5).div(s))).toString());console.log(c,a,e,o),e>0&&o>c||e<0&&o<a?this.$dialog.confirm({title:this.$t("Warning"),message:"".concat(this.$t("Warning0"),"\n  ").concat(this.$t("Warning1"),"\n  ").concat(this.$t("Warning2"))}).then((function(){t.placeOrders()})).catch((function(){})):this.placeOrders()},showLeverWarn:function(){var t=this;this.leverWarn=!0,setTimeout((function(){t.leverWarn=!1}),2e3)}}),watch:{holdingPositions:function(t){var e=this;this.clearPlaceTimeOut(),this.matchStatus=!0;var i=t&&t.posis?t.posis:[];if(0===i.length)return!1;this.positions=i.find((function(t){return t.contractId===e.contractId}))?t.posis.find((function(t){return t.contractId===e.contractId})).posiQty:0;var n=i.find((function(t){return t.contractId===e.contractId}))?i.find((function(t){return t.contractId===e.contractId})).initMarginRate:0,r=i.find((function(t){return t.contractId===e.contractId}))?i.find((function(t){return t.contractId===e.contractId})).marginType:1;this.leverMode=1!==r&&n?"".concat(Math.ceil(1/Number(n)),"x"):this.$t("AllPosition")},priceL:function(t,e){if((this.priceTick&&this.priceTick.toString().indexOf(".")<0&&t.toString().indexOf(".")>-1||t.toString().indexOf("..")>-1||Number(new St(Number(t)).mod(this.priceTick)))&&(this.priceL=e),String(t).indexOf("-")>-1&&(this.priceL=Math.abs(Number(t))),!(this.DelegateModeIndex%2)){var i;i=this.contractObj[this.contractId]&&2===this.contractObj[this.contractId].contractSide?new St(this.getCoinsLatest(this.contractObj[this.contractId].commodityId)):this.contractObj[this.contractId]&&this.getCoinsLatest(this.contractObj[this.contractId].currencyId)?new St(this.getCoinsLatest(this.contractObj[this.contractId].currencyId)):new St(0);var n=new St(Number(t)),r=localStorage.getItem("exchangeCurrencyId")||6,s=new St(this.getRate(r));0===this.priceStatus&&(this.calcCommissionValue(),this.valuation=i.times(n).times(s))}},countL:function(t,e){String(t).indexOf("-")>-1&&(this.countL=Math.abs(Number(t))),(t&&!Number(t)||this.lotSize&&String(this.lotSize).indexOf(".")<0&&t.toString().indexOf(".")>-1||t.toString().indexOf("..")>-1||Number(new St(Number(t)).mod(this.lotSize)))&&!this.countType&&(this.countL=e),this.calcCommissionValue()},triggerPrice:function(t,e){(t&&!Number(t)||this.priceTick&&this.priceTick.toString().indexOf(".")<0&&t.toString().indexOf(".")>-1||val.toString().indexOf("..")>-1||Number(new St(Number(t)).mod(this.priceTick)))&&(this.triggerPrice=e)},priceStatus:function(){this.calcCommissionValue()},buyOrSellStatus:function(t){this.buyOrSell=t?"".concat(this.$t("Sell"),"/").concat(this.$t("MakeShort")):"".concat(this.$t("Buy"),"/").concat(this.$t("MakeLong"))},positions:function(t){this.getQueryVarietyMargin(t)},"marginAccount.available":function(t){this.availableBalance=Number(t).toFixed(16)},leverMode:function(){this.calcCommissionValue()},commonInfoStatus:function(t){t&&this.selectContract()},contractId:{handler:function(t){t&&(this.selectContract(),999999!==t&&this.leverIndex>7&&this.showLeverWarn())},immediate:!0},headerList:function(t){!localStorage.getItem("contractId")&&t.length&&(localStorage.setItem("contractId",this.headerList[0].contractId),this.setContractId(this.headerList[0].contractId),this.selectContract())}},created:function(){var t=pt(v.a.mark((function t(){var e=this;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.setBaseIndex(this.$route.path),this.futureQueryAvail({applId:2}),t.next=4,this.queryAllCurrency();case 4:this.guest||(this.initAccountEquity(),this.initAccountEquityTimer=setInterval((function(){e.initAccountEquity()}),4e3)),1==this.userGuideStatus&&(this.showGuide=!0);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),mounted:function(){var t=this;this.leverBox=this.$refs.leverBox,localStorage.getItem("contractId")&&(this.setContractId(Number(localStorage.getItem("contractId"))),this.selectContract()),this.guest="false"===localStorage.getItem("guest")?0:1,this.$route.query.status&&(this.status=Number(this.$route.query.status),this.buyOrSellStatus=Number(this.$route.query.status)),this.$route.query.contractId&&(this.setContractId(Number(this.$route.query.contractId)),this.selectContract()),this.placeTimeOut=setTimeout((function(){t.pullData()}),3e3)},beforeDestroy:function(){clearInterval(this.settlementTimeTimeOut),clearInterval(this.initAccountEquityTimer)}},jt=xt,kt=Object(_["a"])(jt,wt,_t,!1,null,null,null),Tt=kt.exports,Nt=i("f15b"),Dt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"head flex-row"},[i("div",{staticClass:"flex-row name",on:{click:t.showDropDown}},[i("span",{directives:[{name:"show",rawName:"v-show",value:999999===t.contractID,expression:"contractID === 999999"}],staticClass:"simu",class:[t.upDownColor?"colorRed":"colorGreen"]},[t._v(t._s(t.$t("Simulation")))]),i("div",{},[t._v(t._s(t.futureName))]),i("div",{staticClass:"head-icon"})]),i("div",{staticClass:"r-t-btn",on:{click:function(e){return e.stopPropagation(),t.showDropMenu(e)}}},[i("span",{staticClass:"select-icon"})])]),i("div",{staticClass:"drop-menu",class:{"drop-menu-hide":!t.recordListShowFlag}},t._l(t.dropMenu,(function(e,n){return i("div",{key:n,staticClass:"menu-list",on:{click:function(i){return t.$router.push({path:e.url,query:{contractId:t.contractID}})}}},[i("span",{class:e.className}),i("span",[t._v(t._s(e.name))])])})),0)])},Lt=[];function Mt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function $t(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Mt(Object(i),!0).forEach((function(e){At(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Mt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function At(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Et={data:function(){return{upDownColor:Number(localStorage.getItem("upDownColorIndex"))||0,recordListShowFlag:!1,dropMenu:[{name:this.$t("PLHistory"),className:"capital-record-icon",url:"/contract/PnLHistory"},{name:this.$t("FundRecord"),className:"capital-record-icon",url:"/contract/capitalRecord"},{name:this.$t("LiquidationRecord"),className:"burst-icon",url:"/contract/burstHistory"},{name:this.$t("ContractInfo"),className:"history-icon",url:"/contract/deliveryHistory"},{name:this.$t("MarginAccount"),className:"margin-account-icon",url:"/contract/bondAccount"}],countType:localStorage.getItem("countType")?Number(localStorage.getItem("countType")):0}},computed:$t($t($t({},Object(c["e"])("futures",["contractID","contractObj"])),Object(c["c"])("futures",["getCurrencySymbolByCurrencyId"])),{},{futureName:function(){return this.contractObj[this.contractID]?this.contractObj[this.contractID].symbol:""},priceSymbol:function(){return this.contractObj[this.contractID]?this.getCurrencySymbolByCurrencyId(this.contractObj[this.contractID].currencyId):""},contractSide:function(){return this.contractObj[this.contractID]?this.contractObj[this.contractID].contractSide:0}}),watch:{countType:{handler:function(t){this.$emit("changeCountType",t),localStorage.setItem("countType",t)},immediate:!0}},methods:{showDropDown:function(){localStorage.setItem("headerListStatus",1),this.$router.push("/contract/headerList")},showDropMenu:function(){this.recordListShowFlag=!this.recordListShowFlag}}},Rt=Et,Ft=(i("051b"),Object(_["a"])(Rt,Dt,Lt,!1,null,"6c90cafd",null)),Ut=Ft.exports,Bt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"details-right"},[i("div",{staticClass:"list-head flex-row"},[i("span",{staticClass:"prices"},[t._v(t._s(t.$t("Price"))+"("+t._s(t.priceSymbol)+")")]),i("span",{staticClass:"count"},[t._v(t._s(t.$t("Quantity")))])]),i("div",{staticClass:"flex-column",class:{"flex-reverse":1===t.handicapIndex}},[i("div",{directives:[{name:"show",rawName:"v-show",value:1!==t.handicapIndex,expression:"handicapIndex !== 1"}],staticClass:"data-list ask-data-list",class:{"data-list-1":2===t.handicapIndex}},t._l(t.asksData,(function(e){return i("div",{key:e.id,staticClass:"list asks"},[i("div",{staticClass:"flex-row data-list-content"},[i("span",{staticClass:"prices",class:[t.upDownColor?"colorGreen":"colorRed"],on:{click:function(i){return t.$emit("resetPriceL",e[0])}}},[t._v(t._s(t.getFloatByPriceTick(e[0],t.contractID)))]),i("span",{staticClass:"count",class:t.flashQty(e,"asks")>0?"flagUp":t.flashQty(e,"asks")<0?"flagDown":"",on:{click:function(i){return t.$emit("resetCountL",e[1])}}},[t._v(t._s(e[1]))])]),i("div",{staticClass:"bg-mask",class:[t.upDownColor?"bg-green":"bg-red"],style:{width:Number(e[2])/t.asksData[t.asksData.length-1][2]*95+"%"}})])})),0),i("div",{staticClass:"totle-mid flex-column"},[i("div",{staticClass:"flex-row f"},[i("div",{staticClass:"totle-count",class:[t.upDownColor?Number(t.priceChangeRadio)>0?"colorRed":Number(t.priceChangeRadio)<0?"colorGreen":"colorBlank":Number(t.priceChangeRadio)>0?"colorGreen":Number(t.priceChangeRadio)<0?"colorRed":"colorBlank"],on:{click:function(e){return t.$emit("resetPriceL",t.lastPrice)}}},[t._v(t._s(Number(t.getFloatByPriceTick(t.lastPrice,t.contractID))||"--"))]),i("div",{staticClass:"reduced-queue flex-row"},t._l(5,(function(e,n){return i("span",{key:n,class:["reduced-queue-"+n,{default:t.forceLower<=n}]})})),0)])]),i("div",{directives:[{name:"show",rawName:"v-show",value:2!==t.handicapIndex,expression:"handicapIndex !== 2"}],staticClass:"data-list",class:{"data-list-1":1===t.handicapIndex}},t._l(t.bidsData,(function(e){return i("div",{key:e.id,staticClass:"list bids"},[i("div",{staticClass:"flex-row data-list-content"},[i("span",{staticClass:"prices",class:[t.upDownColor?"colorRed":"colorGreen"],on:{click:function(i){return t.$emit("resetPriceL",e[0])}}},[t._v(t._s(t.getFloatByPriceTick(e[0],t.contractID)))]),i("span",{staticClass:"count",class:t.flashQty(e,"bids")>0?"flagUp":t.flashQty(e,"bids")<0?"flagDown":"",on:{click:function(i){return t.$emit("resetCountL",e[1])}}},[t._v(t._s(e[1]))])]),i("div",{staticClass:"bg-mask",class:[t.upDownColor?"bg-red":"bg-green"],style:{width:Number(e[2])/t.bidsData[t.bidsData.length-1][2]*95+"%"}})])})),0)]),i("div",{staticClass:"indexing-price flex-row"},[i("span",{staticClass:"label"},[t._v(t._s(t.$t("IndexPrice")))]),i("span",[t._v(t._s(t.getFloatByPriceTick(t.indexing,t.contractID)))])]),i("div",{staticClass:"signing-index flex-row"},[i("span",{staticClass:"label"},[t._v(t._s(t.$t("MarkPrice")))]),i("span",[t._v(t._s(t.getFloatByPriceTick(t.signing,t.contractID)))])]),i("div",{staticClass:"settlement-time flex-row"},[i("span",{staticClass:"label"},[t._v(t._s(t.contractType>1?t.$t("FundsRate"):t.$t("ExpectedSettlementPrice")))]),i("span",[t._v(t._s(t.deliveryPFundingR)+t._s(t.contractType>1?"%":""))])]),i("div",{staticClass:"settlement-time flex-row"},[i("span",{staticClass:"label"},[t._v(t._s(t.contractType>1?t.$t("DistanceTime"):t.$t("DeliveryTime")))]),i("span",[t._v(t._s(t.settlementTime))])])])},Qt=[];function qt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Vt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?qt(Object(i),!0).forEach((function(e){Ht(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):qt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Ht(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var zt=i("8a8d"),Gt={data:function(){return{deepthIndex:0,deepthArr:[1,2,5,10,20,50,100,200,500,1e3],bidsData:[],asksData:[],upDownColor:Number(localStorage.getItem("upDownColorIndex"))||0,settlementTimeTimeOut:null,settlementTimeSize:"",settlementTime:"",bidsAsksData:{},interval:0,lastList:[],timer:null}},props:{handicapIndex:{type:Number,default:0}},computed:Vt(Vt(Vt({},Object(c["e"])("futures",["forelowerMessage","futureQuotMessage","contractObj","contractID","bidsAsksMessage"])),Object(c["c"])("futures",["getCurrencySymbolByCurrencyId","getCoinsLatest","getRate","getFloatByPriceTick"])),{},{contractSide:function(){return this.contractObj[this.contractID]?this.contractObj[this.contractID].contractSide:0},priceSymbol:function(){var t="";return t=this.contractSide>1?this.contractObj[this.contractID]?this.getCurrencySymbolByCurrencyId(this.contractObj[this.contractID].commodityId):"":this.contractObj[this.contractID]?this.getCurrencySymbolByCurrencyId(this.contractObj[this.contractID].currencyId):"",t},priceChangeRadio:function(){return this.futureQuotMessage.result?Number(this.futureQuotMessage.result.priceChangeRadio):0},lastPrice:function(){return this.futureQuotMessage.result?this.futureQuotMessage.result.lastPrice:""},forceLower:function(){var t=this,e=100;if(this.forelowerMessage.ranks&&this.forelowerMessage.ranks.length){var i=this.forelowerMessage.ranks.find((function(e){return e.contractId===t.contractID}));i&&(e=Number(i.rank))}return(100-e)/10},contractType:function(){return this.contractObj[this.contractID]?this.contractObj[this.contractID].contractType:0},indexing:function(){return this.futureQuotMessage.result?this.futureQuotMessage.result.indexPrice:""},signing:function(){return this.futureQuotMessage.result?this.futureQuotMessage.result.clearPrice:""},deliveryPFundingR:function(){return this.contractType>1?this.futureQuotMessage.result?new zt(this.futureQuotMessage.result.fundingRate).times(100).toPrecision(4):"--":this.futureQuotMessage.result&&Number(this.futureQuotMessage.result.deliveryPrice)>0?new zt(this.futureQuotMessage.result.deliveryPrice).toPrecision(2):"--"},priceTick:function(){return this.contractObj[this.contractID]?this.contractObj[this.contractID].priceTick:0}}),watch:{handicapIndex:function(){this.bidsAsksSet(this.bidsAsksData)},bidsAsksMessage:function(t){t.contractId===this.contractID&&(this.lastList=this.bidsAsksData,this.bidsAsksData=t,this.bidsAsksSet(t))},settlementTimeSize:function(t){if(t>0){var e=Math.floor(t/86400),i=Math.floor(t%86400/3600)>=10?Math.floor(t%86400/3600):"0".concat(Math.floor(t%86400/3600)),n=Math.floor(t%3600/60)>=10?Math.floor(t%3600/60):"0".concat(Math.floor(t%3600/60)),r=Math.floor(t%3600%60)>=10?Math.floor(t%3600%60):"0".concat(Math.floor(t%3600%60));this.settlementTime=e>0?"".concat(e).concat(this.$t("Day")," ").concat(i,":").concat(n,":").concat(r):"".concat(i,":").concat(n,":").concat(r)}else this.contractType||(this.settlementTime=this.$t("Delivered"))},contractID:{handler:function(t){this.calcSettlementTime(),t&&this.getQuerySnapshot(t)},immediate:!0},contractType:function(t){this.calcSettlementTime()},deepthIndex:function(){this.deepthControl()},priceTick:{handler:function(t){t&&this.createDeepthArr(t)},immediate:!0}},methods:Vt(Vt({},Object(c["b"])("futures",["querySnapshot","queryForceLower"])),{},{flashQty:function(t,e){var i=0,n=Number(t[0]),r=Number(t[1]);if("bids"==e){if(!this.lastList.bids)return 0;var s=this.lastList.bids.find((function(t){return t[0]==n}));i=s?Number(s[1])>r?-1:Number(s[1])==r?0:1:0}else{if(!this.lastList.asks)return 0;var o=this.lastList.asks.find((function(t){return t[0]==n}));i=o?Number(o[1])>r?-1:Number(o[1])==r?0:1:0}return i},changeDeepth:function(t){(this.deepthIndex>0&&t<0||this.deepthArr[this.deepthIndex]<this.deepthArr[this.deepthArr.length-1]&&t>0)&&(this.deepthIndex+=t)},createDeepthArr:function(t){var e=this;this.deepthArr.forEach((function(i,n){e.deepthArr[n]=i*t}))},getQueryForceLower:function(){if(!this.contractId)return!1;var t={contractId:this.contractId};this.queryForceLower(t)},getQuerySnapshot:function(t){var e={contractId:t};this.querySnapshot(e).then((function(){}))},changeHandicapIndex:function(){this.handicapIndex<2?this.handicapIndex+=1:this.handicapIndex=0,this.bidsAsksSet(this.bidsAsksData)},calcSettlementTime:function(){var t=this;if(this.settlementTimeTimeOut,clearInterval(this.settlementTimeTimeOut),2===this.contractType){var e=this.contractObj[this.contractID]?Number(this.contractObj[this.contractID].perpetualSettleFrequency):3,i=86400,n=Math.floor((new Date).getTime()/1e3);this.interval=i/e,this.settlementTimeSize=this.interval-n%this.interval+1}else{var r=(new Date).getTime(),s=this.contractObj[this.contractID]?Math.floor(this.contractObj[this.contractID].deliveryTime/1e3):0;this.settlementTimeSize=Math.floor((s-r)/1e3)}null===this.settlementTimeTimeOut&&setTimeout((function(){t.settlementTimeTimeOut=setInterval((function(){t.settlementTimeSize>0?t.settlementTimeSize-=1:2===t.contractType?t.settlementTimeSize=t.interval-1:t.settlementTimeSize=0}),1e3)}),100)},changeBidAskList:function(t,e){this.handicapIndex?(this.bidsData=t?t.slice(0,10):[],this.asksData=e?e.slice(0,10):[]):(this.bidsData=t?t.slice(0,5):[],this.asksData=e?e.slice(0,5):[])},bidsAsksSet:function(t){this.bidsData=JSON.parse(JSON.stringify(t)).bids,this.asksData=JSON.parse(JSON.stringify(t)).asks,this.deepthIndex>0?this.deepthControl():this.changeBidAskList(this.bidsData,this.asksData),this.asksData[0]&&!this.asksData[0][2]&&this.addProperty(this.asksData),this.bidsData[0]&&!this.bidsData[0][2]&&this.addProperty(this.bidsData)},deepthControl:function(){var t=this.deepthArr[this.deepthIndex],e=JSON.parse(JSON.stringify(this.bidsAsksData)),i=e.bids,n=JSON.parse(JSON.stringify(this.bidsAsksData)),r=n.asks;i=this.mergeDeepthArr(i,t,1),r=this.mergeDeepthArr(r,t),this.bidsData=i,this.asksData=r,this.changeBidAskList(i,r)},mergeDeepthArr:function(t,e,i){var n=[],r=[];return t&&t.length?(t.forEach((function(t){t[0]=i?Math.floor(Number(t[0])/e)*e:Math.ceil(Number(t[0])/e)*e})),t.forEach((function(e){var i=t.filter((function(t){return t[0]===e[0]}));i[0]&&!n.some((function(t){return t[0][0]===i[0][0]}))&&n.push(i)})),n.forEach((function(t){var e=[];if(t[0][1]){t.forEach((function(t){e.push(t[1])}));var i=e.reduce((function(t,e){return Number(t)+Number(e)}),0);t[0][1]=i}r.push(t[0])})),r):[]},addProperty:function(t){t.forEach((function(e,i){e[2]=i?Number(e[1])+Number(t[i-1][2]):Number(e[1])}))}}),beforeDestroy:function(){clearInterval(this.settlementTimeTimeOut)}},Wt=Gt,Jt=(i("12dd"),i("694f"),Object(_["a"])(Wt,Bt,Qt,!1,null,"58b46ed2",null)),Yt=Jt.exports,Kt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"Mission-Failed"},[i("van-dialog",{attrs:{title:t.title,"show-cancel-button":"",cancelButtonText:t.$t("NotSharing"),confirmButtonText:t.$t("CopySharing")},on:{confirm:t.confirm},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("ShareToFriends")))]),i("div",{ref:"copyV",staticClass:"copyfild"},[t._v(t._s(t.inviteUrl))])])],1)},Zt=[];function Xt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function te(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Xt(Object(i),!0).forEach((function(e){ee(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Xt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function ee(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var ie={data:function(){return{show:!1,copyUrl:"".concat(location.origin,"/register"),title:"/futures/simulationTradeActivity"===this.$route.path?this.$t("FailedReceived"):this.$t("MissionFailed"),inviteCodeN:"",inviteUrl:""}},methods:te(te({},Object(c["b"])("mine",["inviteCode"])),{},{confirm:function(){var t=this;this.$copyText(this.inviteUrl).then((function(){t.$toast(t.$t("CopySuccess"))}),(function(){console.log("复制失败！")}))},changeShow:function(t){this.show=t}}),mounted:function(){var t=this;this.inviteCode().then((function(e){t.inviteCodeN=e.data.data.inviteCode,t.inviteUrl=t.$t("GainProfit")+window.location.origin+"/activity/register?inviteCode="+t.inviteCodeN}))}},ne=ie,re=(i("aef1"),Object(_["a"])(ne,Kt,Zt,!1,null,"66fd66ee",null)),se=re.exports,oe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"guide-list"},[i("van-popup",{staticClass:"images",attrs:{"close-on-click-overlay":!1},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:1===t.step,expression:"step === 1"}],staticClass:"header",class:"images"+t.step}),i("div",{directives:[{name:"show",rawName:"v-show",value:2===t.step,expression:"step === 2"}],staticClass:"place",class:"images"+t.step}),i("div",{directives:[{name:"show",rawName:"v-show",value:3===t.step,expression:"step === 3"}],staticClass:"posi",class:"images"+t.step})]),i("van-popup",{staticClass:"step",class:"step"+t.step,attrs:{"close-on-click-overlay":!1},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[i("div",{staticClass:"bg"},[i("div",[i("div",{staticClass:"t"},[i("span",{staticClass:"title"},[t._v(t._s(t.title))]),i("span",{staticClass:"step-txt"},[i("span",{staticClass:"current"},[t._v(t._s(t.step))]),t._v("/3\n          ")])]),i("div",{staticClass:"content"},[i("div",{directives:[{name:"show",rawName:"v-show",value:1===t.step,expression:"step === 1"}],staticClass:"c-txt"},[t._v("\n            "+t._s(t.$t("ContractIntoFavoriteA"))+"\n            "),i("span",{staticClass:"symbol"},[t._v("BTC-CUSD")]),t._v("\n            "+t._s(t.$t("ContractIntoFavoriteB"))+"\n          ")]),i("div",{directives:[{name:"show",rawName:"v-show",value:1!==t.step,expression:"step !== 1"}],staticClass:"c-txt"},[t._v(t._s(t.content))]),i("div",{staticClass:"c-b"},[i("van-button",{directives:[{name:"show",rawName:"v-show",value:t.step<3,expression:"step < 3"}],staticClass:"btn btn-default",attrs:{type:"default"},on:{click:t.cancle}},[t._v(t._s(t.$t("StopTutorial")))]),i("van-button",{directives:[{name:"show",rawName:"v-show",value:t.step<3,expression:"step < 3"}],staticClass:"btn",attrs:{disabled:1===t.step,type:t.prevType},on:{click:function(e){return t.stepChange(-1)}}},[t._v(t._s(t.$t("Previous")))]),i("van-button",{staticClass:"btn",class:{finish:3===t.step},attrs:{type:"info"},on:{click:function(e){return t.stepChange(1)}}},[t._v(t._s(3===t.step?t.$t("StartNow"):t.$t("Next")))])],1)])])])])],1)},ce=[],ae={data:function(){return{show:!0,step:2}},mounted:function(){var t=this;this.$nextTick((function(){t.step=1}))},computed:{prevType:function(){return this.step>1?"info":"default"},title:function(){var t="";switch(this.step){case 1:t=this.$t("HereContract");break;case 2:t=this.$t("HereYourTrade");break;case 3:t=this.$t("InventoryAndHistory");break;default:break}return t},content:function(){var t="";switch(this.step){case 2:t=this.$t("TradeDirective");break;case 3:t=this.$t("YourPositionShowHere");break;default:break}return t}},watch:{step:function(t){this.$emit("setStep",t)}},methods:{stepChange:function(t){t>0&&this.step<3?this.step+=1:t<0&&this.step>0?this.step-=1:t>0&&3===this.step&&(localStorage.setItem("userGuideStatus",0),this.$emit("closeGuide",!1))},cancle:function(){localStorage.setItem("userGuideStatus",0),this.$emit("closeGuide",!1)}}},ue=ae,le=(i("dd1f"),i("2049"),Object(_["a"])(ue,oe,ce,!1,null,"7812a5b6",null)),de=le.exports,he={components:{futureList:B,entrustList:it,historyDeal:ht,noticeTem:Nt["a"],modifyMargin:l["a"],contractHeader:Ut,contractBidAsk:Yt,missionFailed:se,guide:de},mixins:[Tt],data:function(){return{handicapIndex:0,percentValue:0}},watch:{active:function(t){this.guest||1===t&&this.pullData()}},methods:{changeHandicapIndex:function(){this.handicapIndex<2?this.handicapIndex+=1:this.handicapIndex=0},goEntrustHistory:function(){this.guest?this.$router.push("/login"):this.$router.push("/contract/entrustHistory")}}},fe=he,pe=(i("cfae"),i("d28e"),Object(_["a"])(fe,n,r,!1,null,"bf12a7d4",null));e["default"]=pe.exports},"940c":function(t,e,i){},"9ec5":function(t,e,i){},a45e:function(t,e,i){},a504:function(t,e,i){},ae48:function(t,e,i){},aef1:function(t,e,i){"use strict";var n=i("ae48"),r=i.n(n);r.a},b670:function(t,e,i){"use strict";var n=i("2b18"),r=i.n(n);r.a},bfda:function(t,e,i){"use strict";var n=i("c8ed"),r=i.n(n);r.a},c133:function(t,e,i){},c691:function(t,e,i){"use strict";var n=i("9ec5"),r=i.n(n);r.a},c8ed:function(t,e,i){},cfae:function(t,e,i){"use strict";var n=i("0a52"),r=i.n(n);r.a},d28e:function(t,e,i){"use strict";var n=i("e082"),r=i.n(n);r.a},dcba:function(t,e,i){},dd1f:function(t,e,i){"use strict";var n=i("940c"),r=i.n(n);r.a},e082:function(t,e,i){},f9f8:function(t,e,i){}}]);