(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b1737c7"],{"0d40":function(t,e,r){},2162:function(t,e,r){"use strict";r.r(e);var c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"recharge"},[r("van-nav-bar",{attrs:{title:t.$t("DepositCoin"),"left-arrow":""},on:{"click-left":t.goBack}},[r("van-icon",{attrs:{slot:"right"},slot:"right"}),r("div",{attrs:{slot:"right"},slot:"right"},[r("router-link",{attrs:{to:{name:"assets-recharge-his",params:{active:t.active}}}},[r("div",{staticClass:"nav-right"})])],1)],1),r("recharge-coin")],1)},n=[],i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content"},[r("div",{staticClass:"select"},[r("cube-select",{attrs:{title:t.title,options:t.rechargeCurrencyList,placeholder:t.placeholder,"auto-pop":t.autoPop,disabled:t.disabled},on:{change:t.changeCurrencyId},model:{value:t.currencyId,callback:function(e){t.currencyId=e},expression:"currencyId"}})],1),r("div",{directives:[{name:"show",rawName:"v-show",value:7===t.currencyId,expression:"currencyId===7"}],staticClass:"coin"},[r("div",{class:{select:"erc20"===t.ercStatus},on:{click:function(e){t.ercStatus="erc20"}}},[t._v("ERC20")]),r("div",{class:{select:"omni"===t.ercStatus},on:{click:function(e){t.ercStatus="omni"}}},[t._v("OMNI")])]),r("div",{staticClass:"main",class:{"main-margin":7!==t.currencyId}},[r("div",{staticClass:"qrcode"},[r("QRCode",{attrs:{eleId:"'google-code'",qrCode:t.code}})],1),r("div",{staticClass:"tip"},[t._v(t._s(t.$t("DepositAddress")))]),r("div",{staticClass:"code"},[t._v(t._s(t.code))]),r("div",{staticClass:"main-btn main-btn-omin"},[r("van-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.code,expression:"code",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"}],attrs:{color:"#333"}},[r("span",{staticClass:"btn-text"},[t._v(t._s(t.$t("CopyAddress")))])])],1)]),r("div",{staticClass:"tip"},[r("div",{staticClass:"title"},[t._v(t._s(t.$t("Tips")))]),r("div",{staticClass:"item"},[r("p",[t._v(t._s(t.$t("DepositCoinTipA",{symbol:t.currentSymbol})))]),r("p",[t._v(t._s(t.$t("DepositCoinTipB")))])])])])},s=[],a=r("0261"),o=r("9306"),u=r.n(o),l=r("ae8c"),d=r("5d41");function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);e&&(c=c.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,c)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}a["a"].use(u.a);var y={data:function(){return{code:" ",active:0,currencyIdRouter:0,title:this.$t("Currency"),placeholder:this.$t("SelectCurrency"),autoPop:!1,disabled:!1,ercStatus:"erc20",coinList:[{currencyId:1,coin:"ETH"},{currencyId:2,coin:"BTC"},{currencyId:3,coin:"EOS"},{currencyId:6,coin:"BCH"},{currencyId:7,coin:"BTC_USDT",status:"omni"},{currencyId:7,coin:"ETH_USDT",status:"erc20"},{currencyId:9,coin:"LTC"},{currencyId:1000019,coin:"BDB"}]}},components:{QRCode:d["a"]},computed:f(f({},Object(l["e"])("common",["currencyList"])),{},{rechargeCurrencyList:function(){return this.currencyList&&0!==this.currencyList.length?this.currencyList&&this.currencyList.filter((function(t){return 0===t.forbidRecharge})).map((function(t){return{value:t.currencyId,text:t.symbol}})):[]},currentSymbol:function(){var t=this;if(this.rechargeCurrencyList&&this.rechargeCurrencyList.length>0){var e=this.rechargeCurrencyList.find((function(e){return e.value===t.currencyId}));if(e)return e.text}return""},currencyId:{get:function(){return this.currencyIdRouter?this.currencyIdRouter:this.rechargeCurrencyList&&this.rechargeCurrencyList.length>0&&this.rechargeCurrencyList.find((function(t){return 7===t.value}))?this.rechargeCurrencyList.find((function(t){return 7===t.value})).value:0},set:function(t){this.currencyIdRouter=t}}}),watch:{ercStatus:function(t){this.queryCurrAddr()}},methods:f(f({},Object(l["b"])("assets",["getWalletAddress"])),{},{onCopy:function(t){this.$notify({message:this.$t("CopySuccess"),duration:1e3,background:"#1989fa"})},changeCurrencyId:function(t,e,r){console.log("change",t,e,r),this.queryCurrAddr()},queryCurrAddr:function(){var t=this,e="";e=7!==this.currencyId?this.coinList.find((function(e){return e.currencyId===t.currencyId}))?this.coinList.find((function(e){return e.currencyId===t.currencyId})).coin:"":this.coinList.find((function(e){return e.currencyId===t.currencyId&&e.status===t.ercStatus}))?this.coinList.find((function(e){return e.currencyId===t.currencyId&&e.status===t.ercStatus})).coin:"",this.getWalletAddress({params:{currencyId:this.currencyId,coin:e}}).then((function(e){0===e.data.code?t.code=e.data.data.address:t.code=t.$t("AddressGenerated")}))}}),created:function(){this.queryCurrAddr()}},m=y,b=(r("7924"),r("4023")),g=Object(b["a"])(m,i,s,!1,null,"3106cd22",null),v=g.exports,C=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"recharge-cny"},[r("div",{staticClass:"main"},[r("div",{staticClass:"label"},[t._v(t._s(t.$t("DepositCurrency")))]),r("div",{staticClass:"select input"},[r("cube-select",{attrs:{title:t.title,options:t.otcCurrencyList,placeholder:t.placeholder,"auto-pop":t.autoPop,disabled:t.disabled},on:{change:t.change},model:{value:t.currencyId,callback:function(e){t.currencyId=e},expression:"currencyId"}})],1),r("div",{staticClass:"label"},[t._v(t._s(t.$t("DepositAmount")))]),r("div",{staticClass:"input recharge-value"},[r("van-field",{attrs:{type:"number",center:"",placeholder:t.$t("InputDepositAmount")},on:{input:t.doRechargeNum},model:{value:t.rechargeNum,callback:function(e){t.rechargeNum=e},expression:"rechargeNum"}},[r("div",{attrs:{slot:"button"},slot:"button"},[t._v(t._s(t.coinSign))])])],1),r("div",{staticClass:"label"},[t._v(t._s(t.$t("DepositValue")))]),r("div",{staticClass:"input recharge-value"},[r("van-field",{attrs:{type:"number",center:"",placeholder:t.$t("InputDepositValue")},on:{input:t.doRechargeValue},model:{value:t.rechargeValue,callback:function(e){t.rechargeValue=e},expression:"rechargeValue"}},[r("div",{attrs:{slot:"button"},slot:"button"},[t._v("CNY")])])],1),r("div",{staticClass:"small-left"},[t._v("("+t._s(t.$t("Limit"))+"："+t._s(t.thirdPayLimit.min)+" ~ "+t._s(t.thirdPayLimit.max)+"CNY)")]),r("div",{staticClass:"small"},[t._v("1"+t._s(t.coinSign)+" ≈ ¥"+t._s(t.buyPrice))])]),r("div",{staticClass:"tip"},[r("div",{staticClass:"title"},[t._v(t._s(t.$t("Attention")))]),r("div",{staticClass:"item"},[r("p",[t._v(t._s(t.$t("DepositTipA")))]),r("p",[t._v(t._s(t.$t("DepositTipB")))]),r("p",[t._v(t._s(t.$t("DepositTipC")))]),r("p",[t._v(t._s(t.$t("DepositTipD")))]),r("p",[t._v(t._s(t.$t("DepositTipE")))])])]),r("div",{staticClass:"charge"},[r("van-button",{staticClass:"charge-submit",attrs:{type:"info",size:"large",disabled:!Number(t.rechargeNum)},on:{click:t.doRecharge}},[t._v(t._s(t.$t("Deposit")))])],1),r("div",{ref:"formHtml"})])},O=[],I=r("ff51");function $(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);e&&(c=c.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,c)}return r}function P(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?$(Object(r),!0).forEach((function(e){_(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function _(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var j={data:function(){return{currencyId:7,otcCurrencyList:[],title:this.$t("Currency"),placeholder:this.$t("SelectCurrency"),autoPop:!1,disabled:!1,rechargeValue:"",rechargeNum:"",otcList:[],thirdPayLimit:{min:200,max:5e4},uuid:""}},computed:{buyPrice:function(){var t=this;return this.otcList.find((function(e){return e.currencyId===t.currencyId}))?this.otcList.find((function(e){return e.currencyId===t.currencyId})).buyPrice:""},coinSign:function(){var t=this;return this.otcList.find((function(e){return e.currencyId===t.currencyId}))?this.otcList.find((function(e){return e.currencyId===t.currencyId})).coinSign:""}},methods:P(P({},Object(l["b"])("c2c",["queryAllOtcCurrencyList","buyPlaceOrder","queryThirdPayLimit"])),{},{doRecharge:function(){var t=this;Object(I["e"])()?this.rechargeHandle():this.$dialog.confirm({title:"",message:this.$t("BindPhoneFirst")}).then((function(){t.$router.push("/mine/confirmPhoneOrEmail/phone")})).catch((function(){console.log("on cancel")}))},rechargeHandle:function(){var t=this;this.rechargeValue<Number(this.thirdPayLimit.min)?this.$toast("".concat(this.$t("MinimumRecharge")).concat(this.thirdPayLimit.min,"CNY")):this.rechargeValue>Number(this.thirdPayLimit.max)?this.$toast("".concat(this.$t("MaximumRecharge")).concat(this.thirdPayLimit.max,"CNY")):(this.$toast.loading({mask:!0,duration:0,message:"加载中..."}),setTimeout((function(){return t.$toast.clear()}),15e3),this.uuid=Object(I["j"])(),this.buyPlaceOrder({params:{currencyId:this.currencyId,quantity:this.rechargeNum,syncUrl:"http://".concat(window.location.host,"/assets/recharge/1")},headers:{unique:this.uuid}}).then((function(e){var r=e.data,c=r.data,n=r.code,i=r.msg;if(0===n){var s='<form name="paymentForm" method="post" action="'.concat("https://open.otc365.com",'/v1/third/merchant_buy ">');Object.keys(c).forEach((function(t){s+='<input type="hidden" name="'.concat(t,'" value="').concat(c[t],'">')})),s+="</form>",t.$refs.formHtml.innerHTML=s,document.paymentForm.submit()}else console.log(i)})))},change:function(t,e,r){console.log("change",t,e,r)},doRechargeNum:function(t){this.rechargeNum=this.rechargeNum.match(/^\d*(\.?\d{0,4})/g)[0]||null,this.rechargeValue=t*this.buyPrice},doRechargeValue:function(t){this.rechargeValue=this.rechargeValue.match(/^\d*(\.?\d{0,4})/g)[0]||null,this.rechargeNum=(t/this.buyPrice).toFixed(2)},getPayWay:function(t){return"1"===t?this.$t("BankAccountCard"):"2"===t?this.$t("Alipay"):"3"===t?this.$t("WeChat"):""}}),mounted:function(){var t=this;this.queryAllOtcCurrencyList().then((function(e){t.otcList=e.data.data,t.otcCurrencyList=e.data.data.map((function(t){return{value:t.currencyId,text:t.coinSign}}))}))}},L=j,w=(r("b8b2"),Object(b["a"])(L,C,O,!1,null,"78d35fb0",null)),D=w.exports;function S(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);e&&(c=c.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,c)}return r}function x(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?S(Object(r),!0).forEach((function(e){N(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function N(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var T={data:function(){return{active:1===Number(this.$route.params.active)?1:0}},beforeRouteEnter:function(t,e,r){var c=["/","/assets"];c.indexOf(e.path)>-1&&localStorage.setItem("assetFromPath",e.path),r()},computed:{from:function(){return this.$route.query.from}},methods:x(x({},Object(l["b"])("login",["queryUserInfo"])),{},{onClickTabs:function(t,e){var r=this,c="c2c:buy";1!==t||Object(I["g"])(c)||(I["e"]?Object(I["g"])(c)||this.queryUserInfo().then((function(t){localStorage.setItem("queryUserInfo",JSON.stringify(t)),t.permissions.indexOf(c)<0&&r.$dialog.confirm({title:"",message:r.$t("IdentificationFirst"),confirmButtonText:r.$t("ToVerify")}).then((function(){r.$router.push("/mine/primaryCertification")})).catch((function(){}))})):this.$dialog.confirm({title:"",message:this.$t("BindPhoneFirst"),confirmButtonText:this.$t("ToBind")}).then((function(){r.$router.push("/mine/confirmPhoneOrEmail/phone")})).catch((function(){})))},goBack:function(){if("firstRecharge"!==this.from)if("invitation"!==this.from){var t=localStorage.getItem("assetFromPath");t?this.$router.push(t):this.$router.push("/assets")}else this.$router.push("/activity/invitation");else this.$router.push("/activity/recharge")}}),components:{RechargeCoin:v,RechargeCny:D}},k=T,R=(r("935c"),r("25a7"),Object(b["a"])(k,c,n,!1,null,"25748078",null));e["default"]=R.exports},"25a7":function(t,e,r){"use strict";var c=r("e55d"),n=r.n(c);n.a},7924:function(t,e,r){"use strict";var c=r("c8d77"),n=r.n(c);n.a},"935c":function(t,e,r){"use strict";var c=r("0d40"),n=r.n(c);n.a},b8b2:function(t,e,r){"use strict";var c=r("bc9a"),n=r.n(c);n.a},bc9a:function(t,e,r){},c8d77:function(t,e,r){},e55d:function(t,e,r){}}]);