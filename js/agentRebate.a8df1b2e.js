(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["agentRebate"],{1407:function(e,t,s){},"2a66":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"posi-share"},[a("div",{staticClass:"share-bg"},[a("div",{staticClass:"loading"},[e.loading?a("van-loading",{attrs:{type:"spinner",color:"#1989fa"}}):e._e()],1),e.isHtml5Plus()?e._e():a("img",{staticClass:"result-img",attrs:{src:e.imgUrl,alt:""},on:{click:e.closeFooter}})]),a("div",{ref:"shareBox",staticClass:"share-pic",class:{showPosi:e.showPosi&&e.isHtml5Plus()},on:{click:e.closeFooter}},[a("div",{staticClass:"share-pic-bg"},[e.isEn?e._e():a("div",[a("img",{staticClass:"image1",attrs:{src:s("b317"),alt:""}}),a("img",{staticClass:"image2",attrs:{src:s("9456"),alt:""}}),a("img",{staticClass:"image3",attrs:{src:s("5c82"),alt:""}})])]),a("div",{staticClass:"share-pic-bottom share-pic-bottom-up"},[a("div",{staticClass:"right"},[a("div",{staticClass:"one",class:[e.isEn]},[e._v("欢迎注册ZMEX")]),a("div",{staticClass:"other"},[e._v("邀请您加入ZMEX,长按识别二维码")]),a("div",{staticClass:"link"},[e._v("zmex.co")])]),a("div",{staticClass:"qr-code"},[a("vue-qr",{attrs:{text:e.inviteUrlForQr,dotScale:1,qid:"testid",size:70,margin:0,autoColor:"false"}})],1)])])])},i=[],n=s("ae8c"),r=s("e81a"),o=s.n(r),c=s("b27f"),l=s("4579"),u=s.n(l);function d(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function v(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?d(Object(s),!0).forEach((function(t){h(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):d(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function h(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var m={components:{VueQr:u.a},data:function(){return{imgUrl:"",isEn:!1,inviteUrlForQr:"",loading:!1,showPosi:!1}},methods:v(v({},Object(n["b"])("mine",["inviteCode"])),{},{closeFooter:function(){this.showPosi=!1,this.$emit("closeFooter")},isHtml5Plus:function(){return navigator.userAgent.indexOf("Html5Plus")>-1},captureWebview:function(){var e=this,t=null;t=new plus.nativeObj.Bitmap("main");var s=plus.webview.currentWebview();s.draw(t,(function(){console.log("截屏绘制图片成功");var s="_doc/positer.png",a={overwrite:!0,format:"png",quality:100};t.save(s,a,e.bmSaveSuccessCB,e.bmSaveErrorCB),Object(c["setTimeout"])((function(){t.recycle()}),1200)}),(function(e){console.log("截屏绘制图片失败："+JSON.stringify(e))}))},bmSaveErrorCB:function(e){plus.nativeUI.toast("保存失败, 请重新保存或手动截屏保存"),console.log("code："+e.code+";msg:"+e.message)},bmSaveSuccessCB:function(e){this.saveToGallery(e.target)},saveToGallery:function(e){plus.gallery.save(e,(function(e){plus.nativeUI.toast("已自动保存到手机相册")}),(function(e){plus.nativeUI.toast(e.message)}))}}),mounted:function(){var e=this;this.loading=!0,window.scrollTo(0,0),this.inviteCode().then((function(t){if(e.inviteUrlForQr="".concat(window.location.origin,"/activity/register?inviteCode=").concat(t.data.data.inviteCode),e.isHtml5Plus())return e.showPosi=!0,e.loading=!1,void Object(c["setTimeout"])((function(){e.captureWebview()}),1e3);var s=e.$refs.shareBox;Object(c["setTimeout"])((function(){o()(s,{useCORS:!0,backgroundColor:null,scrollY:0,scrollX:0}).then((function(t){e.loading=!1,e.imgUrl=t.toDataURL("image/png"),e.$toast(window.plus?"请截屏保存图片去分享":"请长按或截屏保存图片去分享")}))}),3e3)}))}},f=m,b=(s("38fe"),s("4023")),p=Object(b["a"])(f,a,i,!1,null,"d8a64bb8",null);t["a"]=p.exports},"32c1":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"calculate-body"},["numberOne"!==e.show?[e._v("404")]:e._e(),"numberOne"===e.show?[s("div",{staticClass:"calculate-form"},[s("div",{staticClass:"item"},[s("span",{staticClass:"label"},[e._v("币对")]),s("cube-input",{staticClass:"item-value",attrs:{disabled:""},model:{value:e.symbol,callback:function(t){e.symbol=t},expression:"symbol"}})],1),s("div",{staticClass:"item"},[s("span",{staticClass:"label"},[e._v("方向")]),s("cube-radio-group",{staticClass:"item-value",attrs:{options:e.posiQtyList,position:"right","col-num":2,"hollow-style":!0},model:{value:e.posiQty,callback:function(t){e.posiQty=t},expression:"posiQty"}})],1),s("div",{staticClass:"item"},[s("span",{staticClass:"label"},[e._v("开仓价")]),s("cube-input",{staticClass:"item-value",attrs:{type:"number",placeholder:"请输入开仓价格"},model:{value:e.openPrice,callback:function(t){e.openPrice=t},expression:"openPrice"}})],1),s("div",{staticClass:"item"},[s("span",{staticClass:"label"},[e._v("最新价")]),s("cube-input",{staticClass:"item-value",attrs:{type:"number",placeholder:"请输入最新价格"},model:{value:e.lastPrice,callback:function(t){e.lastPrice=t},expression:"lastPrice"}})],1),s("div",{staticClass:"item"},[s("span",{staticClass:"label"},[e._v("杠杆倍数")]),s("cube-input",{staticClass:"item-value",model:{value:e.leverage,callback:function(t){e.leverage=t},expression:"leverage"}})],1),s("cube-button",{staticClass:"btn",on:{click:e.sharePoster}},[e._v("生成海报")]),s("cube-button",{staticClass:"btn",on:{click:function(t){return e.$router.push("/")}}},[e._v("返回首页")]),s("div",[e._v(e._s(e.text))])],1)]:e._e(),s("van-popup",{attrs:{position:"bottom"},model:{value:e.isShare,callback:function(t){e.isShare=t},expression:"isShare"}},[e.isShare?s("PosiShare",{attrs:{item:e.item},on:{closeFooter:e.closeFooter}}):e._e()],1),e.showCancelScan?s("div",{staticClass:"cancel-scan"},[s("span",{on:{click:e.cancelScan}},[e._v(e._s(e.$t("Cancel")))])]):e._e()],2)},i=[],n=s("9e1a"),r=s("ae8c");function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(Object(s),!0).forEach((function(t){l(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function l(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var u={components:{PosiShare:n["a"]},data:function(){return{isShare:!1,symbol:"BTC/USDT",posiQty:1,posiQtyList:[{label:"做多",value:1},{label:"做空",value:0}],openPrice:"",lastPrice:"",item:{posiMode:0,returnRate:0},leverage:125,barcode:null,showCancelScan:!1,text:"",shareMsg:{type:"web",title:"好友邀请你领取100 USDT赠金",content:"专注于比特币永续合约的交易平台",href:"https://m.zmex.co/activity/lending?from=home",thumbs:["https://m.zmex.co/img/app-download-ic.72f43025.png"],extra:{scene:"WXSceneSession"}},shareData:{},sharewx:{}}},computed:c(c({},Object(r["e"])("common",["guest"])),{},{show:function(){return this.$route.query.whoAreYou}}),methods:{sharePoster:function(){if(this.guest)return this.$toast("请先登录，再进入此页面"),!1;this.item.symbol=this.symbol,this.item.posiQty=this.posiQty,this.item.openPrice=this.openPrice,this.item.lastPrice=this.lastPrice,Number(this.posiQty)>0?this.item.returnRate=((-Number(this.openPrice)+Number(this.lastPrice))/(Number(this.openPrice)/Number(this.leverage))*100).toFixed(2):this.item.returnRate=((Number(this.openPrice)-Number(this.lastPrice))/(Number(this.openPrice)/Number(this.leverage))*100).toFixed(2),this.isShare=!0},closeFooter:function(){this.isShare=!1},isHtml5Plus:function(){return navigator.userAgent.indexOf("Html5Plus")>-1},createBarcode:function(){this.barcode||(this.barcode=plus.barcode.create("barcode",[plus.barcode.QR],{top:"40px",left:"0px",width:"100%",height:"100%",position:"static"}),this.barcode.onmarked=this.onmarked,plus.webview.currentWebview().append(this.barcode)),this.barcode.start(),this.showCancelScan=!this.showCancelScan},onmarked:function(e,t){switch(e){case plus.barcode.QR:"QR: ";break;case plus.barcode.EAN13:"EAN13: ";break;case plus.barcode.EAN8:"EAN8: ";break}this.barcode.close(),this.barcode=null,this.text=t,this.showCancelScan=!this.showCancelScan},cancelScan:function(){this.showCancelScan=!this.showCancelScan,this.barcode&&(this.barcode.close(),this.barcode=null)},share:function(){var e=this;plus.share.getServices((function(t){for(var s in e.shareData=t,t)"weixin"==t[s].id&&(e.sharewx=t[s])})),e.sharewx.send(this.shareMsg,(function(){console.log("分享成功")}),(function(e){console.log("分享失败")}))}}},d=u,v=(s("64bc"),s("4023")),h=Object(v["a"])(d,a,i,!1,null,"5749e6f1",null);t["default"]=h.exports},"38fe":function(e,t,s){"use strict";var a=s("ff74"),i=s.n(a);i.a},"5c82":function(e,t,s){e.exports=s.p+"img/img_wenan3@2x.970c15b4.png"},"64bc":function(e,t,s){"use strict";var a=s("b425"),i=s.n(a);i.a},"71c2":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"head"},[s("div",{staticClass:"back",on:{click:function(t){return t.stopPropagation(),e.goBack(t)}}},[s("span",{staticClass:"left-arrow"})]),s("span",{staticClass:"title"},[e._v(e._s(e.headerTitle))]),"paymentMethod"===e.currentRoute?s("span",{staticClass:"add-payment-method",on:{click:e.addPaymentMethod}},[e._v(e._s(e.$t("AddPaymentMethod")))]):e._e(),"PnLHistory"===e.currentRoute?s("span",{staticClass:"pnl-icon",on:{click:function(t){return e.$emit("show")}}},[s("van-icon",{attrs:{name:"bars"}})],1):e._e()])},i=[],n={props:{headerTitle:{type:String,required:!0},backUrl:{type:String}},data:function(){return{currentRoute:""}},methods:{addPaymentMethod:function(){this.$emit("addMethod")},goBack:function(){localStorage.getItem("fromPath");this.backUrl?this.$router.push(this.backUrl):this.$router.go("-1")}},created:function(){this.currentRoute=this.$router.currentRoute.name}},r=n,o=(s("c529"),s("4023")),c=Object(o["a"])(r,a,i,!1,null,"402bacfc",null);t["a"]=c.exports},"737e":function(e,t,s){"use strict";var a=s("8c45"),i=s.n(a);i.a},"759d":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"agentRebate"},[s("header-name",{attrs:{headerTitle:e.$t("InvitationRecord")}}),s("div",{staticClass:"top"},[s("div",{staticClass:"Rebate-title"},[s("div",{staticClass:"Rebate-title-t"},[e._v("\n        账户名称: "),s("span",{staticClass:"Rebate-title-t-color"},[e._v(e._s(e.agentInfo?e.agentInfo.brokerName:""))])])]),s("div",{staticClass:"Rebateinfo"},[s("div",{staticClass:"l"},[s("span",{staticClass:"label"},[e._v("旗下客户人数")]),s("span",{staticClass:"value"},[e._v(e._s(e.agentInfo?e.agentInfo.invitedPersons:0))])]),s("div",{staticClass:"r"},[s("span",{staticClass:"label"},[e._v("返佣比例")]),s("span",{staticClass:"value"},[e._v(e._s(e.agentInfo&&e.agentInfo.rebateRules?100*Number(e.agentInfo.rebateRules[0].rebateRule):0)+"%")])])])]),s("div",{staticClass:"Rebate-t"},[s("div",{staticClass:"Rebate-t-title"},[e._v("累计获得返佣")]),s("div",{staticClass:"Rebate-t-num"},e._l(e.RebateList,(function(t,a){return s("div",{key:a},[s("span",{staticClass:"value"},[e._v(e._s(e._f("toFix8")(e.getRebateT(t.currencyId)||0)))]),s("span",{staticClass:"label"},[e._v(e._s(t.label))])])})),0)]),s("div",{staticClass:"line"}),s("div",{staticClass:"list-contant"},[s("div",{staticClass:"title"},[e._v("客户手续费贡献排行榜")]),s("van-tabs",{staticClass:"list-contant-tabs",attrs:{sticky:!0},on:{change:e.activeChange},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[s("cube-select",{staticClass:"select-top",attrs:{title:"",options:e.dateList},model:{value:e.field,callback:function(t){e.field=t},expression:"field"}}),s("van-tab",{attrs:{title:"USDT"}},[s("div",{staticClass:"list-item-content"},[e._l(e.StatFeeRank,(function(t,a){return s("div",{directives:[{name:"show",rawName:"v-show",value:e.StatFeeRank.length,expression:"StatFeeRank.length"}],key:a,staticClass:"list-item",class:{"list-item-3":a<3}},[s("div",{staticClass:"l"},[s("div",{directives:[{name:"show",rawName:"v-show",value:a>2,expression:"index > 2"}],staticClass:"index"},[e._v(e._s(a))]),s("div",{directives:[{name:"show",rawName:"v-show",value:0===a,expression:"index === 0"}],staticClass:"first"}),s("div",{directives:[{name:"show",rawName:"v-show",value:1===a,expression:"index === 1"}],staticClass:"second"}),s("div",{directives:[{name:"show",rawName:"v-show",value:2===a,expression:"index === 2"}],staticClass:"third"}),s("div",{staticClass:"username"},[e._v(e._s(t.username))])]),s("div",{staticClass:"r"},[e._v(e._s(t[e.getProperty]>0?"+":"")+e._s(e._f("toFix8")(t[""+e.getProperty])))])])})),s("noData",{directives:[{name:"show",rawName:"v-show",value:0===e.StatFeeRank.length,expression:"StatFeeRank.length === 0"}],attrs:{status:2}})],2)]),s("van-tab",{attrs:{title:"BTC"}},[s("div",{staticClass:"list-item-content"},[e._l(e.StatFeeRank,(function(t,a){return s("div",{directives:[{name:"show",rawName:"v-show",value:e.StatFeeRank.length,expression:"StatFeeRank.length"}],key:a,staticClass:"list-item",class:{"list-item-3":a<3}},[s("div",{staticClass:"l"},[s("div",{directives:[{name:"show",rawName:"v-show",value:a>2,expression:"index > 2"}],staticClass:"index"},[e._v(e._s(a))]),s("div",{directives:[{name:"show",rawName:"v-show",value:0===a,expression:"index === 0"}],staticClass:"first"}),s("div",{directives:[{name:"show",rawName:"v-show",value:1===a,expression:"index === 1"}],staticClass:"second"}),s("div",{directives:[{name:"show",rawName:"v-show",value:2===a,expression:"index === 2"}],staticClass:"third"}),s("div",{staticClass:"username"},[e._v(e._s(t.username))])]),s("div",{staticClass:"r"},[e._v(e._s(t[e.getProperty]>0?"+":"")+e._s(e._f("toFix8")(t[e.getProperty])))])])})),s("noData",{directives:[{name:"show",rawName:"v-show",value:0===e.StatFeeRank.length,expression:"StatFeeRank.length === 0"}],attrs:{status:2}})],2)]),s("van-tab",{attrs:{title:"ETH"}},[s("div",{staticClass:"list-item-content"},[e._l(e.StatFeeRank,(function(t,a){return s("div",{directives:[{name:"show",rawName:"v-show",value:e.StatFeeRank.length,expression:"StatFeeRank.length"}],key:a,staticClass:"list-item",class:{"list-item-3":a<3}},[s("div",{staticClass:"l"},[s("div",{directives:[{name:"show",rawName:"v-show",value:a>2,expression:"index > 2"}],staticClass:"index"},[e._v(e._s(a))]),s("div",{directives:[{name:"show",rawName:"v-show",value:0===a,expression:"index === 0"}],staticClass:"first"}),s("div",{directives:[{name:"show",rawName:"v-show",value:1===a,expression:"index === 1"}],staticClass:"second"}),s("div",{directives:[{name:"show",rawName:"v-show",value:2===a,expression:"index === 2"}],staticClass:"third"}),s("div",{staticClass:"username"},[e._v(e._s(t.username))])]),s("div",{staticClass:"r"},[e._v(e._s(t[e.getProperty]>0?"+":"")+e._s(e._f("toFix8")(t[e.getProperty])))])])})),s("noData",{directives:[{name:"show",rawName:"v-show",value:0===e.StatFeeRank.length,expression:"StatFeeRank.length === 0"}],attrs:{status:2}})],2)])],1)],1),s("invitation-footer",{attrs:{rebateRatio:e.rebateRule}})],1)},i=[],n=s("ee01"),r=s("7746"),o=s("71c2"),c=s("2a66"),l={components:{headerName:o["a"],noData:r["a"],InvitationFooter:c["a"]},data:function(){return{active:0,StatFeeRank:[],RebateList:[{label:"USDT",currencyId:7},{label:"BTC",currencyId:2},{label:"ETH",currencyId:1}],agentInfo:{},dateList:[{text:"累计",value:"total_fee"},{text:"日排行",value:"day_fee"},{text:"7天排行",value:"week_fee"},{text:"30天排行",value:"month_fee"},{text:"90天排行",value:"threemonth_fee"}],field:"total_fee",currencyId:7}},created:function(){this.getAgentInfo(),this.queryStatFeeRank()},computed:{rebateRule:function(){return this.agentInfo&&this.agentInfo.rebateRules.length?this.agentInfo.rebateRules[0].rebateRule:"0.2"},getProperty:function(){switch(this.field){case"total_fee":return"totalFee";case"day_fee":return"dayFee";case"week_fee":return"weekFee";case"month_fee":return"monthFee";case"threemonth_fee":return"threemonthFee";default:return"totalFee"}}},watch:{field:function(e){this.queryStatFeeRank()}},methods:{activeChange:function(e){switch(e){case 0:this.currencyId=7;break;case 1:this.currencyId=2;break;case 2:this.currencyId=1;break;default:break}this.queryStatFeeRank()},queryStatFeeRank:function(){var e=this,t={currencyId:this.currencyId,field:this.field};Object(n["y"])({params:t}).then((function(t){0===t.data.code&&(e.StatFeeRank=t.data.data)}))},getAgentInfo:function(){var e=this;Object(n["b"])().then((function(t){0===t.data.code&&(e.agentInfo=t.data.data)}))},getRebateT:function(e){return this.agentInfo&&this.agentInfo.rebates&&this.agentInfo.rebates.find((function(t){return t.currencyId===e}))?this.agentInfo.rebates.find((function(t){return t.currencyId===e})).receivedRebateAmount:0},goBack:function(){this.$router.push("/")},onClickLeft:function(){Toast("返回")},onClickRight:function(){Toast("按钮")}}},u=l,d=(s("737e"),s("9c9c"),s("4023")),v=Object(d["a"])(u,a,i,!1,null,"0aad631f",null);t["default"]=v.exports},"8c45":function(e,t,s){},9456:function(e,t,s){e.exports=s.p+"img/img_wenan2@2x.860377be.png"},"9c9c":function(e,t,s){"use strict";var a=s("9e49"),i=s.n(a);i.a},"9e49":function(e,t,s){},b317:function(e,t,s){e.exports=s.p+"img/img_wenan1@2x.13dc9ea7.png"},b425:function(e,t,s){},c529:function(e,t,s){"use strict";var a=s("1407"),i=s.n(a);i.a},ff74:function(e,t,s){}}]);